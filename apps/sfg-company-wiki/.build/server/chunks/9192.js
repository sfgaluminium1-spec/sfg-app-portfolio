exports.id=9192,exports.ids=[9192],exports.modules={68744:(e,r,t)=>{Promise.resolve().then(t.bind(t,75282))},87133:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,84114,23)),Promise.resolve().then(t.t.bind(t,28866,23)),Promise.resolve().then(t.t.bind(t,31324,23)),Promise.resolve().then(t.t.bind(t,83567,23)),Promise.resolve().then(t.t.bind(t,55996,23)),Promise.resolve().then(t.t.bind(t,10050,23))},27871:()=>{},75282:(e,r,t)=>{"use strict";t.d(r,{Providers:()=>c});var n,o=t(62901),s=t(84700);t(24383);var a=t(69878);function i({children:e,...r}){return o.jsx(a.f,{...r,children:e})}var d=t(43921);let u=({...e})=>{let{theme:r="system"}=(0,a.F)();return o.jsx(d.x7,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function l({children:e,className:r=""}){let{data:t}=(0,s.useSession)()||{},a=(()=>{if(!t?.user)return"sales";let e=t.user.tierLevel;return e===n.CEO||"SUPER_ADMIN"===t.user.role?"ceo":e===n.FINANCE||"ADMIN"===t.user.role?"finance":"sales"})();return o.jsx("div",{"data-tier":a,className:r,children:e})}function c({children:e}){return o.jsx(s.SessionProvider,{children:o.jsx(i,{attribute:"class",defaultTheme:"dark",enableSystem:!1,disableTransitionOnChange:!0,children:(0,o.jsxs)(l,{children:[e,o.jsx(u,{position:"top-right"})]})})})}!function(e){e.CEO="CEO",e.FINANCE="FINANCE",e.SALES="SALES"}(n||(n={}))},27878:(e,r,t)=>{"use strict";t.d(r,{z:()=>u});var n=t(62901),o=t(24383),s=t(42049),a=t(47279),i=t(68637);let d=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef(({className:e,variant:r,size:t,asChild:o=!1,...a},u)=>{let l=o?s.g7:"button";return n.jsx(l,{className:(0,i.cn)(d({variant:r,size:t,className:e})),ref:u,...a})});u.displayName="Button"},23803:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>i,SZ:()=>u,Zb:()=>a,aY:()=>l,eW:()=>c,ll:()=>d});var n=t(62901),o=t(24383),s=t(68637);let a=o.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let i=o.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let d=o.forwardRef(({className:e,...r},t)=>n.jsx("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let u=o.forwardRef(({className:e,...r},t)=>n.jsx("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",e),...r}));u.displayName="CardDescription";let l=o.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:(0,s.cn)("p-6 pt-0",e),...r}));l.displayName="CardContent";let c=o.forwardRef(({className:e,...r},t)=>n.jsx("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",e),...r}));c.displayName="CardFooter"},250:(e,r,t)=>{"use strict";t.d(r,{I:()=>a});var n=t(62901),o=t(24383),s=t(68637);let a=o.forwardRef(({className:e,type:r,...t},o)=>n.jsx("input",{type:r,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...t}));a.displayName="Input"},68637:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s});var n=t(84330),o=t(77189);function s(...e){return(0,o.m6)((0,n.W)(e))}},7070:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});let n=(0,t(71945).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},34216:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});let n=(0,t(71945).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},91334:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});let n=(0,t(71945).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},62392:(e,r,t)=>{"use strict";t.d(r,{default:()=>o.a});var n=t(95003),o=t.n(n)},84374:(e,r,t)=>{"use strict";var n=t(75229);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},60142:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var n=t(83537),o=t(57978),s=t(15438),a=t(11826);async function i({children:e}){return await (0,o.getServerSession)(a.L)&&(0,s.redirect)("/dashboard"),n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:n.jsx("div",{className:"w-full max-w-md",children:e})})}},70443:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>i});var n=t(83537),o=t(57416),s=t.n(o);t(26148);let a=(0,t(88895).createProxy)(String.raw`/home/ubuntu/company_wiki/nextjs_space/components/providers.tsx#Providers`),i={title:"SFG Aluminium Wiki - Knowledge Management System",description:"Comprehensive company knowledge management, operational procedures, and RAG-enabled wiki system for SFG Aluminium",icons:{icon:"/favicon.svg",shortcut:"/favicon.svg"}};function d({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:s().className,children:n.jsx(a,{children:e})})})}},11826:(e,r,t)=>{"use strict";t.d(r,{L:()=>l});var n=t(64617),o=t(66291),s=t(80207),a=t(3390),i=t.n(a),d=t(83178);let u=[(0,o.Z)({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let r=await d._.user.findUnique({where:{email:e.email}});return r&&r.password&&await i().compare(e.password,r.password)?{id:r.id,email:r.email,name:r.firstName?`${r.firstName} ${r.lastName||""}`.trim():r.email,role:r.role}:null}})];process.env.AZURE_AD_CLIENT_ID&&process.env.AZURE_AD_CLIENT_SECRET&&process.env.AZURE_AD_TENANT_ID&&u.push((0,s.Z)({clientId:process.env.AZURE_AD_CLIENT_ID,clientSecret:process.env.AZURE_AD_CLIENT_SECRET,tenantId:process.env.AZURE_AD_TENANT_ID,authorization:{params:{scope:"openid profile email User.Read"}}}));let l={adapter:(0,n.N)(d._),providers:u,session:{strategy:"jwt"},pages:{signIn:"/login"},callbacks:{async signIn({user:e,account:r,profile:t}){if(r?.provider==="azure-ad")try{await d._.user.findUnique({where:{email:e.email}})||await d._.user.create({data:{email:e.email,firstName:t?.given_name||e.name?.split(" ")[0]||"",lastName:t?.family_name||e.name?.split(" ").slice(1).join(" ")||"",role:"USER",password:null}})}catch(e){return console.error("Error during Azure AD sign-in:",e),!1}return!0},jwt:async({token:e,user:r,account:t,profile:n})=>(r&&(e.role=r.role),t?.provider==="azure-ad"&&n&&(e.groups=n.groups||[],n.roles&&(n.roles.includes("SFG-Wiki-Admin")?e.role="ADMIN":n.roles.includes("SFG-Wiki-Approver")?e.role="APPROVER":n.roles.includes("SFG-Wiki-Editor")?e.role="EDITOR":n.roles.includes("SFG-Wiki-Viewer")&&(e.role="USER"))),e),session:async({session:e,token:r})=>(r&&(e.user.id=r.sub,e.user.role=r.role,e.user.groups=r.groups||[]),e)}}},83178:(e,r,t)=>{"use strict";t.d(r,{_:()=>o});var n=t(53524);let o=globalThis.prisma??new n.PrismaClient},15438:(e,r,t)=>{"use strict";var n=t(34513);t.o(n,"notFound")&&t.d(r,{notFound:function(){return n.notFound}}),t.o(n,"redirect")&&t.d(r,{redirect:function(){return n.redirect}})},34513:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{ReadonlyURLSearchParams:function(){return a},RedirectType:function(){return n.RedirectType},notFound:function(){return o.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=t(69138),o=t(18403);class s extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class a extends URLSearchParams{append(){throw new s}delete(){throw new s}set(){throw new s}sort(){throw new s}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},18403:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{isNotFoundError:function(){return o},notFound:function(){return n}});let t="NEXT_NOT_FOUND";function n(){let e=Error(t);throw e.digest=t,e}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},34769:(e,r)=>{"use strict";var t;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return t}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(t||(t={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},69138:(e,r,t)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{RedirectType:function(){return n},getRedirectError:function(){return d},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return f},isRedirectError:function(){return c},permanentRedirect:function(){return l},redirect:function(){return u}});let o=t(54580),s=t(72934),a=t(34769),i="NEXT_REDIRECT";function d(e,r,t){void 0===t&&(t=a.RedirectStatusCode.TemporaryRedirect);let n=Error(i);n.digest=i+";"+r+";"+e+";"+t+";";let s=o.requestAsyncStorage.getStore();return s&&(n.mutableCookies=s.mutableCookies),n}function u(e,r){void 0===r&&(r="replace");let t=s.actionAsyncStorage.getStore();throw d(e,r,(null==t?void 0:t.isAction)?a.RedirectStatusCode.SeeOther:a.RedirectStatusCode.TemporaryRedirect)}function l(e,r){void 0===r&&(r="replace");let t=s.actionAsyncStorage.getStore();throw d(e,r,(null==t?void 0:t.isAction)?a.RedirectStatusCode.SeeOther:a.RedirectStatusCode.PermanentRedirect)}function c(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[r,t,n,o]=e.digest.split(";",4),s=Number(o);return r===i&&("replace"===t||"push"===t)&&"string"==typeof n&&!isNaN(s)&&s in a.RedirectStatusCode}function f(e){return c(e)?e.digest.split(";",3)[2]:null}function p(e){if(!c(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!c(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},26148:()=>{}};