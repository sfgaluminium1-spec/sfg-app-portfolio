(()=>{var e={};e.id=9423,e.ids=[9423],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},37136:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>c}),t(46046),t(21769),t(71363),t(70443);var s=t(36576),a=t(72007),n=t(21818),i=t.n(n),l=t(88897),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(r,d);let c=["",{children:["(app)",{children:["procedures",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,46046)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/procedures/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,21769)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,71363,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,70443)),"/home/ubuntu/company_wiki/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,71363,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/company_wiki/nextjs_space/app/(app)/procedures/[id]/page.tsx"],u="/(app)/procedures/[id]/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(app)/procedures/[id]/page",pathname:"/procedures/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},55356:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,95003,23))},46046:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>y});var s=t(83537),a=t(57978),n=t(11826),i=t(83178),l=t(15438),d=t(31376),c=t(27244),o=t(66809),u=t(42662),x=t(62748),m=t(61996),p=t(89004);let h=(0,p.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),f=(0,p.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var g=t(25201),v=t(47615),j=t(85168);async function y({params:e}){await (0,a.getServerSession)(n.L);let r=await i._.procedure.findUnique({where:{id:e.id},include:{category:!0,createdBy:{select:{firstName:!0,lastName:!0,email:!0}},conflicts:{where:{status:"DETECTED"},include:{relatedProcedure:{select:{id:!0,title:!0}}}},crossReferences:{include:{targetProcedure:{select:{id:!0,title:!0,category:!0}}}},referencedIn:{include:{sourceProcedure:{select:{id:!0,title:!0,category:!0}}}},attachments:!0}});return r||(0,l.notFound)(),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(j.default,{href:"/procedures",children:(0,s.jsxs)(o.z,{variant:"ghost",size:"sm",children:[s.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Back to Procedures"]})})}),s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r.title}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(x.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[r.createdBy?.firstName," ",r.createdBy?.lastName]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(m.Z,{className:"h-4 w-4"}),s.jsx("span",{children:new Date(r.updatedAt).toLocaleDateString()})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(o.z,{variant:"outline",size:"sm",children:[s.jsx(h,{className:"h-4 w-4 mr-2"}),"Share"]}),(0,s.jsxs)(o.z,{variant:"outline",size:"sm",children:[s.jsx(f,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,s.jsxs)(c.C,{variant:"outline",className:"flex items-center space-x-1",children:[s.jsx(g.Z,{className:"h-3 w-3"}),s.jsx("span",{children:r.category.name})]}),s.jsx(c.C,{className:{LOW:"bg-gray-100 text-gray-800",MEDIUM:"bg-blue-100 text-blue-800",HIGH:"bg-orange-100 text-orange-800",CRITICAL:"bg-red-100 text-red-800"}[r.priority],children:r.priority}),s.jsx(c.C,{className:{DRAFT:"bg-gray-100 text-gray-800",ACTIVE:"bg-green-100 text-green-800",INACTIVE:"bg-yellow-100 text-yellow-800",ARCHIVED:"bg-red-100 text-red-800",UNDER_REVIEW:"bg-blue-100 text-blue-800"}[r.status],children:r.status}),r.tags?.map(e=>s.jsx(c.C,{variant:"secondary",children:e},e))]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[r.summary&&(0,s.jsxs)(d.Zb,{children:[s.jsx(d.Ol,{children:s.jsx(d.ll,{children:"Summary"})}),s.jsx(d.aY,{children:s.jsx("p",{className:"text-muted-foreground",children:r.summary})})]}),(0,s.jsxs)(d.Zb,{children:[s.jsx(d.Ol,{children:s.jsx(d.ll,{children:"Procedure Details"})}),s.jsx(d.aY,{children:s.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:r.content.replace(/\n/g,"<br/>")}})})]}),r.formulas&&r.formulas.length>0&&(0,s.jsxs)(d.Zb,{children:[s.jsx(d.Ol,{children:s.jsx(d.ll,{children:"Formulas"})}),s.jsx(d.aY,{children:s.jsx("div",{className:"space-y-2",children:r.formulas.map((e,r)=>s.jsx("div",{className:"bg-muted p-3 rounded-md font-mono text-sm",children:e},r))})})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[r.conflicts&&r.conflicts.length>0&&(0,s.jsxs)(d.Zb,{children:[(0,s.jsxs)(d.Ol,{children:[(0,s.jsxs)(d.ll,{className:"flex items-center space-x-2 text-orange-600",children:[s.jsx(v.Z,{className:"h-5 w-5"}),s.jsx("span",{children:"Conflicts"})]}),s.jsx(d.SZ,{children:"Issues detected with this procedure"})]}),s.jsx(d.aY,{className:"space-y-3",children:r.conflicts.map(e=>(0,s.jsxs)("div",{className:"border-l-4 border-orange-500 pl-3",children:[s.jsx("div",{className:"font-medium text-sm",children:e.title}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.conflictType," - ",e.severity]}),e.relatedProcedure&&(0,s.jsxs)(j.default,{href:`/procedures/${e.relatedProcedure.id}`,className:"text-xs text-blue-600 hover:underline",children:["Related: ",e.relatedProcedure.title]})]},e.id))})]}),(r.crossReferences.length>0||r.referencedIn.length>0)&&(0,s.jsxs)(d.Zb,{children:[(0,s.jsxs)(d.Ol,{children:[s.jsx(d.ll,{children:"Related Procedures"}),s.jsx(d.SZ,{children:"Linked and dependent procedures"})]}),(0,s.jsxs)(d.aY,{className:"space-y-4",children:[r.crossReferences.length>0&&(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"References:"}),s.jsx("div",{className:"space-y-2",children:r.crossReferences.map(e=>(0,s.jsxs)(j.default,{href:`/procedures/${e.targetProcedure.id}`,className:"block text-sm text-blue-600 hover:underline",children:[e.targetProcedure.title,s.jsx("div",{className:"text-xs text-muted-foreground",children:e.targetProcedure.category.name})]},e.id))})]}),r.referencedIn.length>0&&(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:"Referenced By:"}),s.jsx("div",{className:"space-y-2",children:r.referencedIn.map(e=>(0,s.jsxs)(j.default,{href:`/procedures/${e.sourceProcedure.id}`,className:"block text-sm text-blue-600 hover:underline",children:[e.sourceProcedure.title,s.jsx("div",{className:"text-xs text-muted-foreground",children:e.sourceProcedure.category.name})]},e.id))})]})]})]}),(0,s.jsxs)(d.Zb,{children:[s.jsx(d.Ol,{children:s.jsx(d.ll,{children:"Metadata"})}),(0,s.jsxs)(d.aY,{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Version:"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:r.version})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Approval Level:"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:r.approvalLevel})]}),r.effectiveDate&&(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Effective Date:"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(r.effectiveDate).toLocaleDateString()})]}),r.expirationDate&&(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Expiration Date:"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(r.expirationDate).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Created:"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(r.createdAt).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Updated:"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(r.updatedAt).toLocaleDateString()})]})]})]})]})]})]})}},27244:(e,r,t)=>{"use strict";t.d(r,{C:()=>l});var s=t(83537);t(3995);var a=t(53290),n=t(64761);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:r,...t}){return s.jsx("div",{className:(0,n.cn)(i({variant:r}),e),...t})}},66809:(e,r,t)=>{"use strict";t.d(r,{z:()=>x});var s=t(83537),a=t(3995),n=a.forwardRef((e,r)=>{let{children:t,...n}=e,l=a.Children.toArray(t),c=l.find(d);if(c){let e=c.props.children,t=l.map(r=>r!==c?r:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(i,{...n,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,t):null})}return(0,s.jsx)(i,{...n,ref:r,children:t})});n.displayName="Slot";var i=a.forwardRef((e,r)=>{let{children:t,...s}=e;if(a.isValidElement(t)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t);return a.cloneElement(t,{...function(e,r){let t={...r};for(let s in r){let a=e[s],n=r[s];/^on[A-Z]/.test(s)?a&&n?t[s]=(...e)=>{n(...e),a(...e)}:a&&(t[s]=a):"style"===s?t[s]={...a,...n}:"className"===s&&(t[s]=[a,n].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props),ref:r?function(...e){return r=>e.forEach(e=>{"function"==typeof e?e(r):null!=e&&(e.current=r)})}(r,e):e})}return a.Children.count(t)>1?a.Children.only(null):null});i.displayName="SlotClone";var l=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function d(e){return a.isValidElement(e)&&e.type===l}var c=t(53290),o=t(64761);let u=(0,c.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...i},l)=>{let d=a?n:"button";return s.jsx(d,{className:(0,o.cn)(u({variant:r,size:t,className:e})),ref:l,...i})});x.displayName="Button"},31376:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>l,SZ:()=>c,Zb:()=>i,aY:()=>o,ll:()=>d});var s=t(83537),a=t(3995),n=t(64761);let i=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let l=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));c.displayName="CardDescription";let o=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},64761:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(61862),a=t(82703);function n(...e){return(0,a.m6)((0,s.W)(e))}},89004:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var s=t(3995);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,r,t)=>!!e&&t.indexOf(e)===r).join(" ");var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:l="",children:d,iconNode:c,...o},u)=>(0,s.createElement)("svg",{ref:u,...i,width:r,height:r,stroke:e,strokeWidth:a?24*Number(t)/Number(r):t,className:n("lucide",l),...o},[...c.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(d)?d:[d]])),d=(e,r)=>{let t=(0,s.forwardRef)(({className:t,...i},d)=>(0,s.createElement)(l,{ref:d,iconNode:r,className:n(`lucide-${a(e)}`,t),...i}));return t.displayName=`${e}`,t}},42662:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(89004).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},61996:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(89004).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},25201:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(89004).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},47615:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(89004).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},62748:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(89004).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},53290:(e,r,t)=>{"use strict";t.d(r,{j:()=>n});let s=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,a=function(){for(var e,r,t=0,s="";t<arguments.length;)(e=arguments[t++])&&(r=function e(r){var t,s,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r){if(Array.isArray(r))for(t=0;t<r.length;t++)r[t]&&(s=e(r[t]))&&(a&&(a+=" "),a+=s);else for(t in r)r[t]&&(a&&(a+=" "),a+=t)}return a}(e))&&(s&&(s+=" "),s+=r);return s},n=(e,r)=>t=>{var n;if((null==r?void 0:r.variants)==null)return a(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:l}=r,d=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],a=null==l?void 0:l[e];if(null===r)return null;let n=s(r)||s(a);return i[e][n]}),c=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return a(e,d,null==r?void 0:null===(n=r.compoundVariants)||void 0===n?void 0:n.reduce((e,r)=>{let{class:t,className:s,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...c}[r]):({...l,...c})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4372,7329,4958,302,1263,5003,7343,255,4913],()=>t(37136));module.exports=s})();