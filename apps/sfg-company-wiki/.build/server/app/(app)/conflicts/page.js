(()=>{var e={};e.id=4146,e.ids=[4146],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},27596:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o}),r(74162),r(21769),r(71363),r(70443);var s=r(36576),n=r(72007),a=r(21818),l=r.n(a),i=r(88897),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(t,c);let o=["",{children:["(app)",{children:["conflicts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,74162)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/conflicts/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,21769)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,71363,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,70443)),"/home/ubuntu/company_wiki/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,71363,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/company_wiki/nextjs_space/app/(app)/conflicts/page.tsx"],u="/(app)/conflicts/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(app)/conflicts/page",pathname:"/conflicts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},55356:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,95003,23))},74162:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(83537),n=r(57978),a=r(11826),l=r(83178),i=r(31376),c=r(27244),o=r(66809),d=r(79118),u=r(61996),x=r(61112),m=r(47615),p=r(25201),f=r(62748),h=r(85168);async function g(){await (0,n.getServerSession)(a.L);let e=await l._.conflictReport.findMany({include:{procedure:{include:{category:!0}},relatedProcedure:{include:{category:!0}},reportedBy:{select:{firstName:!0,lastName:!0,email:!0}}},orderBy:[{severity:"desc"},{detectedAt:"desc"}]}),t={LOW:"bg-gray-100 text-gray-800",MEDIUM:"bg-yellow-100 text-yellow-800",HIGH:"bg-orange-100 text-orange-800",CRITICAL:"bg-red-100 text-red-800"},r={DETECTED:"bg-red-100 text-red-800",INVESTIGATING:"bg-yellow-100 text-yellow-800",RESOLVED:"bg-green-100 text-green-800",ACCEPTED:"bg-blue-100 text-blue-800",IGNORED:"bg-gray-100 text-gray-800"},g={DETECTED:d.Z,INVESTIGATING:u.Z,RESOLVED:x.Z,ACCEPTED:x.Z,IGNORED:d.Z},y=e.filter(e=>"CRITICAL"===e.severity&&"DETECTED"===e.status);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Conflicts"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage conflicts and inconsistencies in your procedures"})]}),(0,s.jsxs)(o.z,{children:[s.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Report Conflict"]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(i.ll,{className:"text-sm font-medium",children:"Total Conflicts"}),s.jsx(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(i.aY,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All detected conflicts"})]})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(i.ll,{className:"text-sm font-medium",children:"Critical"}),s.jsx(d.Z,{className:"h-4 w-4 text-red-500"})]}),(0,s.jsxs)(i.aY,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:y.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Require immediate attention"})]})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(i.ll,{className:"text-sm font-medium",children:"Resolved"}),s.jsx(x.Z,{className:"h-4 w-4 text-green-500"})]}),(0,s.jsxs)(i.aY,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>"RESOLVED"===e.status).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully resolved"})]})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(i.ll,{className:"text-sm font-medium",children:"Under Review"}),s.jsx(u.Z,{className:"h-4 w-4 text-yellow-500"})]}),(0,s.jsxs)(i.aY,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(e=>"INVESTIGATING"===e.status).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Being investigated"})]})]})]}),s.jsx("div",{className:"space-y-4",children:e.length>0?e.map(e=>{let n=g[e.status];return s.jsx(i.Zb,{className:"hover:shadow-md transition-shadow",children:s.jsx(i.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(n,{className:`h-4 w-4 ${"RESOLVED"===e.status||"ACCEPTED"===e.status?"text-green-500":"INVESTIGATING"===e.status?"text-yellow-500":"text-red-500"}`}),s.jsx("h3",{className:"text-lg font-medium",children:e.title})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.jsx(c.C,{className:t[e.severity],children:e.severity}),s.jsx(c.C,{className:r[e.status],children:e.status}),s.jsx(c.C,{variant:"outline",children:e.conflictType.replace(/_/g," ")})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(h.default,{href:`/procedures/${e.procedure.id}`,className:"text-blue-600 hover:underline",children:e.procedure.title}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:["(",e.procedure.category.name,")"]})]}),e.relatedProcedure&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Related to:"}),s.jsx(h.default,{href:`/procedures/${e.relatedProcedure.id}`,className:"text-blue-600 hover:underline",children:e.relatedProcedure.title}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:["(",e.relatedProcedure.category.name,")"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(f.Z,{className:"h-3 w-3"}),(0,s.jsxs)("span",{children:["Reported by ",e.reportedBy?.firstName," ",e.reportedBy?.lastName]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(u.Z,{className:"h-3 w-3"}),s.jsx("span",{children:new Date(e.detectedAt).toLocaleDateString()})]}),e.resolvedAt&&(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(x.Z,{className:"h-3 w-3"}),(0,s.jsxs)("span",{children:["Resolved ",new Date(e.resolvedAt).toLocaleDateString()]})]})]}),e.resolution&&(0,s.jsxs)("div",{className:"mt-3 p-3 bg-green-50 rounded-md",children:[s.jsx("h4",{className:"text-sm font-medium text-green-800 mb-1",children:"Resolution:"}),s.jsx("p",{className:"text-sm text-green-700",children:e.resolution})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:["DETECTED"===e.status&&s.jsx(o.z,{variant:"outline",size:"sm",children:"Investigate"}),"INVESTIGATING"===e.status&&s.jsx(o.z,{variant:"outline",size:"sm",children:"Resolve"})]})]})})},e.id)}):s.jsx(i.Zb,{children:(0,s.jsxs)(i.aY,{className:"py-12 text-center",children:[s.jsx(x.Z,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No conflicts detected"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Your procedures are consistent and conflict-free."}),(0,s.jsxs)(o.z,{variant:"outline",children:[s.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Report a Conflict"]})]})})})]})}},27244:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});var s=r(83537);r(3995);var n=r(53290),a=r(64761);let l=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...r}){return s.jsx("div",{className:(0,a.cn)(l({variant:t}),e),...r})}},66809:(e,t,r)=>{"use strict";r.d(t,{z:()=>x});var s=r(83537),n=r(3995),a=n.forwardRef((e,t)=>{let{children:r,...a}=e,i=n.Children.toArray(r),o=i.find(c);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(l,{...a,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,s.jsx)(l,{...a,ref:t,children:r})});a.displayName="Slot";var l=n.forwardRef((e,t)=>{let{children:r,...s}=e;if(n.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r);return n.cloneElement(r,{...function(e,t){let r={...t};for(let s in t){let n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=(...e)=>{a(...e),n(...e)}:n&&(r[s]=n):"style"===s?r[s]={...n,...a}:"className"===s&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props),ref:t?function(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}(t,e):e})}return n.Children.count(r)>1?n.Children.only(null):null});l.displayName="SlotClone";var i=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function c(e){return n.isValidElement(e)&&e.type===i}var o=r(53290),d=r(64761);let u=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...l},i)=>{let c=n?a:"button";return s.jsx(c,{className:(0,d.cn)(u({variant:t,size:r,className:e})),ref:i,...l})});x.displayName="Button"},31376:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>i,SZ:()=>o,Zb:()=>l,aY:()=>d,ll:()=>c});var s=r(83537),n=r(3995),a=r(64761);let l=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let i=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let c=n.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let o=n.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let d=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},64761:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(61862),n=r(82703);function a(...e){return(0,n.m6)((0,s.W)(e))}},89004:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var s=r(3995);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=(...e)=>e.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:c,iconNode:o,...d},u)=>(0,s.createElement)("svg",{ref:u,...l,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:a("lucide",i),...d},[...o.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(c)?c:[c]])),c=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...l},c)=>(0,s.createElement)(i,{ref:c,iconNode:t,className:a(`lucide-${n(e)}`,r),...l}));return r.displayName=`${e}`,r}},61112:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(89004).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},79118:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(89004).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},61996:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(89004).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},25201:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(89004).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},47615:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(89004).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},62748:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(89004).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},53290:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});let s=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,n=function(){for(var e,t,r=0,s="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(s=e(t[r]))&&(n&&(n+=" "),n+=s);else for(r in t)t[r]&&(n&&(n+=" "),n+=r)}return n}(e))&&(s&&(s+=" "),s+=t);return s},a=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:i}=t,c=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],n=null==i?void 0:i[e];if(null===t)return null;let a=s(t)||s(n);return l[e][a]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return n(e,c,null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...o}[t]):({...i,...o})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4372,7329,4958,302,1263,5003,7343,255,4913],()=>r(27596));module.exports=s})();