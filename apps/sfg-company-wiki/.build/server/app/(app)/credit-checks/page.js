(()=>{var e={};e.id=3901,e.ids=[3901],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},6683:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o}),t(63088),t(21769),t(71363),t(70443);var s=t(36576),n=t(72007),i=t(21818),a=t.n(i),l=t(88897),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(r,c);let o=["",{children:["(app)",{children:["credit-checks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,63088)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/credit-checks/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,21769)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,71363,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,70443)),"/home/ubuntu/company_wiki/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,71363,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/company_wiki/nextjs_space/app/(app)/credit-checks/page.tsx"],u="/(app)/credit-checks/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(app)/credit-checks/page",pathname:"/credit-checks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},55356:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,95003,23))},63088:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var s=t(83537),n=t(57978),i=t(11826),a=t(83178),l=t(31376),c=t(27244),o=t(66809),d=t(7649),u=t(61112),p=t(34241);let m=(0,t(89004).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var x=t(25201),h=t(85168);async function f(){await (0,n.getServerSession)(i.L);let e=await a._.creditCheckProtocol.findMany({orderBy:{name:"asc"}});return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight gradient-text",children:"Credit Check Protocols"}),s.jsx("p",{className:"text-muted-foreground",children:"Comprehensive credit checking and approval procedures for SFG Aluminium"})]}),(0,s.jsxs)(l.Zb,{className:"border-l-4 border-l-tier-2",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsxs)(l.ll,{className:"flex items-center gap-2",children:[s.jsx(d.Z,{className:"h-5 w-5 text-tier-2"}),"Credit Policy Summary"]}),s.jsx(l.SZ,{children:"Evidence-backed credit checking guidelines"})]}),(0,s.jsxs)(l.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(u.Z,{className:"h-4 w-4 text-green-500"}),"Default Position"]}),(0,s.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1 ml-6",children:[s.jsx("li",{children:"• New customers: Pay upfront (100%) until credit vetted"}),s.jsx("li",{children:"• 50% deposit accepted for low-risk, short lead-time jobs"}),s.jsx("li",{children:"• Use CreditSafe to screen all new accounts"}),s.jsx("li",{children:"• If not creditworthy, quotation must state prepayment terms"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(p.Z,{className:"h-4 w-4 text-tier-2"}),"30-Day Terms"]}),(0,s.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1 ml-6",children:[s.jsx("li",{children:'• Only after "credit is good enough" (Accounts decision)'}),s.jsx("li",{children:"• Initial limit recommended: \xa31-5k for new customers"}),s.jsx("li",{children:"• Step up based on on-time payments and CreditSafe bands"}),s.jsx("li",{children:"• Always check with Accounts before proceeding"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2 pt-4 border-t",children:[(0,s.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(m,{className:"h-4 w-4 text-warning"}),"Approval Matrix (Proposed)"]}),(0,s.jsxs)("div",{className:"grid gap-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 bg-secondary/50 rounded",children:[s.jsx("span",{children:"Up to \xa35k limit"}),s.jsx(c.C,{variant:"outline",children:"Accounts"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 bg-secondary/50 rounded",children:[s.jsx("span",{children:"\xa35k - \xa320k limit"}),s.jsx(c.C,{variant:"outline",children:"Accounts + Ops Manager"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 bg-secondary/50 rounded",children:[s.jsx("span",{children:">\xa320k or exceptions"}),s.jsx(c.C,{className:"bg-tier-1",children:"Tier 1 (Warren/Pawel)"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2 pt-4 border-t",children:[(0,s.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(x.Z,{className:"h-4 w-4 text-conflict"}),"Collections Cadence"]}),(0,s.jsxs)("div",{className:"grid gap-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(c.C,{variant:"secondary",children:"Day -3"}),s.jsx("span",{className:"text-muted-foreground",children:"Gentle reminder before due date"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(c.C,{variant:"secondary",children:"Day +5"}),s.jsx("span",{className:"text-muted-foreground",children:"Second reminder (overdue)"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(c.C,{className:"bg-warning/20 text-warning",children:"Day +15"}),s.jsx("span",{className:"text-muted-foreground",children:"Final notice (requires Tier 1 approval)"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(c.C,{className:"bg-conflict/20 text-conflict",children:"Day +30"}),s.jsx("span",{className:"text-muted-foreground",children:"Collections + statutory interest"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"Active Protocols"}),e.length>0?s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.map(e=>(0,s.jsxs)(l.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(l.Ol,{children:[s.jsx(l.ll,{className:"text-lg",children:e.name}),s.jsx(l.SZ,{children:e.triggerCondition})]}),s.jsx(l.aY,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium",children:"Check Types:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.checkType.map((e,r)=>s.jsx(c.C,{variant:"secondary",className:"text-xs",children:e},r))})]}),e.minimumScore&&(0,s.jsxs)("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Minimum Score:"})," ",e.minimumScore]})]})})]},e.id))}):s.jsx(l.Zb,{children:(0,s.jsxs)(l.aY,{className:"py-8",children:[s.jsx("p",{className:"text-center text-muted-foreground",children:"No credit check protocols configured. Add your first protocol to get started."}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsx(o.z,{children:"Add Protocol"})})]})})]}),s.jsx("div",{className:"flex gap-4",children:s.jsx(h.default,{href:"/procedures?category=credit",children:s.jsx(o.z,{variant:"outline",children:"View Related Procedures"})})})]})}},27244:(e,r,t)=>{"use strict";t.d(r,{C:()=>l});var s=t(83537);t(3995);var n=t(53290),i=t(64761);let a=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:r,...t}){return s.jsx("div",{className:(0,i.cn)(a({variant:r}),e),...t})}},66809:(e,r,t)=>{"use strict";t.d(r,{z:()=>p});var s=t(83537),n=t(3995),i=n.forwardRef((e,r)=>{let{children:t,...i}=e,l=n.Children.toArray(t),o=l.find(c);if(o){let e=o.props.children,t=l.map(r=>r!==o?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(a,{...i,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,t):null})}return(0,s.jsx)(a,{...i,ref:r,children:t})});i.displayName="Slot";var a=n.forwardRef((e,r)=>{let{children:t,...s}=e;if(n.isValidElement(t)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t);return n.cloneElement(t,{...function(e,r){let t={...r};for(let s in r){let n=e[s],i=r[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...e)=>{i(...e),n(...e)}:n&&(t[s]=n):"style"===s?t[s]={...n,...i}:"className"===s&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props),ref:r?function(...e){return r=>e.forEach(e=>{"function"==typeof e?e(r):null!=e&&(e.current=r)})}(r,e):e})}return n.Children.count(t)>1?n.Children.only(null):null});a.displayName="SlotClone";var l=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function c(e){return n.isValidElement(e)&&e.type===l}var o=t(53290),d=t(64761);let u=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=n.forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...a},l)=>{let c=n?i:"button";return s.jsx(c,{className:(0,d.cn)(u({variant:r,size:t,className:e})),ref:l,...a})});p.displayName="Button"},31376:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>l,SZ:()=>o,Zb:()=>a,aY:()=>d,ll:()=>c});var s=t(83537),n=t(3995),i=t(64761);let a=n.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let l=n.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let c=n.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));c.displayName="CardTitle";let o=n.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let d=n.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent",n.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},64761:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var s=t(61862),n=t(82703);function i(...e){return(0,n.m6)((0,s.W)(e))}},89004:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var s=t(3995);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(...e)=>e.filter((e,r,t)=>!!e&&t.indexOf(e)===r).join(" ");var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:l="",children:c,iconNode:o,...d},u)=>(0,s.createElement)("svg",{ref:u,...a,width:r,height:r,stroke:e,strokeWidth:n?24*Number(t)/Number(r):t,className:i("lucide",l),...d},[...o.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(c)?c:[c]])),c=(e,r)=>{let t=(0,s.forwardRef)(({className:t,...a},c)=>(0,s.createElement)(l,{ref:c,iconNode:r,className:i(`lucide-${n(e)}`,t),...a}));return t.displayName=`${e}`,t}},61112:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(89004).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},34241:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(89004).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},25201:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(89004).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7649:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(89004).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},53290:(e,r,t)=>{"use strict";t.d(r,{j:()=>i});let s=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,n=function(){for(var e,r,t=0,s="";t<arguments.length;)(e=arguments[t++])&&(r=function e(r){var t,s,n="";if("string"==typeof r||"number"==typeof r)n+=r;else if("object"==typeof r){if(Array.isArray(r))for(t=0;t<r.length;t++)r[t]&&(s=e(r[t]))&&(n&&(n+=" "),n+=s);else for(t in r)r[t]&&(n&&(n+=" "),n+=t)}return n}(e))&&(s&&(s+=" "),s+=r);return s},i=(e,r)=>t=>{var i;if((null==r?void 0:r.variants)==null)return n(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:a,defaultVariants:l}=r,c=Object.keys(a).map(e=>{let r=null==t?void 0:t[e],n=null==l?void 0:l[e];if(null===r)return null;let i=s(r)||s(n);return a[e][i]}),o=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return n(e,c,null==r?void 0:null===(i=r.compoundVariants)||void 0===i?void 0:i.reduce((e,r)=>{let{class:t,className:s,...n}=r;return Object.entries(n).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...o}[r]):({...l,...o})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4372,7329,4958,302,1263,5003,7343,255,4913],()=>t(6683));module.exports=s})();