(()=>{var e={};e.id=714,e.ids=[714],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},92864:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),r(55675),r(21769),r(71363),r(70443);var t=r(36576),a=r(72007),n=r(21818),i=r.n(n),l=r(88897),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(s,o);let c=["",{children:["(app)",{children:["knowledge-smelter",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,55675)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/knowledge-smelter/search/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,21769)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,71363,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,70443)),"/home/ubuntu/company_wiki/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,71363,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/company_wiki/nextjs_space/app/(app)/knowledge-smelter/search/page.tsx"],u="/(app)/knowledge-smelter/search/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(app)/knowledge-smelter/search/page",pathname:"/knowledge-smelter/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},85356:(e,s,r)=>{Promise.resolve().then(r.bind(r,17766))},17766:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>f});var t=r(62901),a=r(24383),n=r(23803),i=r(27878),l=r(250),o=r(31606),c=r(91046),d=r(10333),u=r(68537),m=r(32317),x=r(68734),p=r(83898),h=r(43921);function f(){let[e,s]=(0,a.useState)(""),[r,f]=(0,a.useState)([]),[g,j]=(0,a.useState)(!1),[v,b]=(0,a.useState)(null),y=async(s=1)=>{if(!e.trim()){h.Am.error("Please enter a search query");return}j(!0);try{let r=new URLSearchParams({q:e,page:s.toString(),limit:"20"}),t=await fetch(`/api/knowledge-smelter/search?${r}`),a=await t.json();f(a.files),b(a.pagination)}catch(e){console.error("Search error:",e),h.Am.error("Search failed")}finally{j(!1)}};return(0,t.jsxs)("div",{className:"p-8 space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Search Archive"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Search through ",v?.total||0," archived files"]})]}),t.jsx(n.Zb,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[t.jsx(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),t.jsx(l.I,{value:e,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"===e.key&&y()},placeholder:"Search by filename, job number, customer name, or content...",className:"pl-10"})]}),(0,t.jsxs)(i.z,{onClick:()=>y(),disabled:g,children:[g?t.jsx(d.Z,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Search"]}),(0,t.jsxs)(i.z,{variant:"outline",children:[t.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Filters"]})]})}),r.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",r.length," of ",v?.total," results"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>y(v.page-1),disabled:1===v.page||g,children:"Previous"}),(0,t.jsxs)("span",{className:"text-sm",children:["Page ",v.page," of ",v.pages]}),t.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>y(v.page+1),disabled:v.page===v.pages||g,children:"Next"})]})]}),r.map(e=>t.jsx(n.Zb,{className:"p-6 hover:bg-accent transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx(m.Z,{className:"h-5 w-5 text-muted-foreground"}),t.jsx("h3",{className:"text-lg font-semibold",children:e.fileName}),t.jsx(o.C,{children:e.fileType}),(0,t.jsxs)(o.C,{variant:"outline",children:[e.confidence,"% confident"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground mb-4",children:[e.jobNumber&&(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Job:"})," ",e.jobNumber]}),e.customerName&&(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Customer:"})," ",e.customerName]}),e.productType&&(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Product:"})," ",e.productType]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Size:"})," ",(Number(e.fileSize)/1024/1024).toFixed(2)," MB"]})]}),e.tags&&e.tags.length>0&&(0,t.jsxs)("div",{className:"flex items-center flex-wrap gap-2",children:[e.tags.slice(0,5).map(e=>(0,t.jsxs)(o.C,{variant:"secondary",className:"text-xs",children:[e.key,": ",e.value]},e.id)),e.tags.length>5&&(0,t.jsxs)(o.C,{variant:"outline",className:"text-xs",children:["+",e.tags.length-5," more"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(i.z,{variant:"outline",size:"sm",children:t.jsx(x.Z,{className:"h-4 w-4"})}),e.sharePointUrl&&t.jsx(i.z,{variant:"outline",size:"sm",asChild:!0,children:t.jsx("a",{href:e.sharePointUrl,target:"_blank",rel:"noopener noreferrer",children:t.jsx(p.Z,{className:"h-4 w-4"})})})]})]})},e.id))]}),!g&&0===r.length&&e&&t.jsx(n.Zb,{className:"p-12",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(c.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Results Found"}),t.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search query or filters"})]})}),!g&&0===r.length&&!e&&t.jsx(n.Zb,{className:"p-12",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(c.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Search the Archive"}),t.jsx("p",{className:"text-muted-foreground",children:"Enter a search query above to find files by name, job number, customer, or content"})]})})]})}},31606:(e,s,r)=>{"use strict";r.d(s,{C:()=>l});var t=r(62901);r(24383);var a=r(47279),n=r(68637);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,...r}){return t.jsx("div",{className:(0,n.cn)(i({variant:s}),e),...r})}},23803:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>l,SZ:()=>c,Zb:()=>i,aY:()=>d,eW:()=>u,ll:()=>o});var t=r(62901),a=r(24383),n=r(68637);let i=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let l=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let o=a.forwardRef(({className:e,...s},r)=>t.jsx("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle";let c=a.forwardRef(({className:e,...s},r)=>t.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent";let u=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s}));u.displayName="CardFooter"},68734:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(71945).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},83898:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(71945).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},68537:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(71945).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},10333:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(71945).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},55675:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(88895).createProxy)(String.raw`/home/ubuntu/company_wiki/nextjs_space/app/(app)/knowledge-smelter/search/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[4372,7329,4958,302,1263,5003,7343,4913],()=>r(92864));module.exports=t})();