(()=>{var e={};e.id=6411,e.ids=[6411],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},2144:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>l}),t(95820),t(21769),t(71363),t(70443);var i=t(36576),s=t(72007),a=t(21818),n=t.n(a),o=t(88897),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let l=["",{children:["(app)",{children:["credit-checker",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,95820)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/credit-checker/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,21769)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,71363,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,70443)),"/home/ubuntu/company_wiki/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,71363,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/company_wiki/nextjs_space/app/(app)/credit-checker/page.tsx"],p="/(app)/credit-checker/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(app)/credit-checker/page",pathname:"/credit-checker",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},74121:(e,r,t)=>{Promise.resolve().then(t.bind(t,13796))},13796:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>C});var i=t(62901),s=t(24383),a=t(23803),n=t(250),o=t(27878),d=t(31606),l=t(84227),c=t(558),p=t(21680),x=t(61659),m=t(44928),h=t(91046),u=t(30808),g=t(79357),f=t(1320),y=t(39350),b=t(19175),v=t(21391);let j=(0,t(71945).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),k=()=>{let[e,r]=(0,s.useState)("search"),[t,a]=(0,s.useState)(""),[n,o]=(0,s.useState)(null),[d,l]=(0,s.useState)(null),[c,p]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),g=(0,s.useRef)(null),f=[{id:1,name:"ABC Manufacturing Ltd",companyNumber:"12345678",currentTier:"Steel",lastCheck:"2025-10-01"},{id:2,name:"XYZ Installations plc",companyNumber:"87654321",currentTier:"Platinum",lastCheck:"2025-10-10"},{id:3,name:"Prime Components Ltd",companyNumber:"11223344",currentTier:"Proforma",lastCheck:"2025-09-20"},{id:4,name:"Global Trading Co",companyNumber:"55667788",currentTier:"Crimson",lastCheck:"2025-10-05"},{id:5,name:"Quality Builders Ltd",companyNumber:"99887766",currentTier:"Sapphire",lastCheck:"2025-10-08"}],y=e=>{p(!0),setTimeout(()=>{let r={companyName:e.name,companyNumber:e.companyNumber,creditScore:Math.floor(100*Math.random())+50,riskLevel:["Low","Medium","High","Legal","Insolvency"][Math.floor(5*Math.random())],creditLimit:Math.floor(5e5*Math.random())+5e4,currentDebt:Math.floor(1e5*Math.random()),agedReceivables45:Math.floor(5*Math.random()),agedReceivables60:Math.floor(3*Math.random()),avgMonthlyBilled6m:Math.floor(2e5*Math.random())+5e3,annualBilled:Math.floor(15e5*Math.random())+5e4,onTimePaymentRatio:parseFloat((.5*Math.random()+.5).toFixed(2)),ordersPerYear:Math.floor(50*Math.random())+1,paymentTerms:["30 Days","Proforma","COD"][Math.floor(3*Math.random())],frameworkContract:Math.random()>.7,checkProvider:"Experian",checkDate:new Date().toISOString()};l(r),h(k(r)),p(!1)},2e3)},k=e=>e.currentDebt/e.creditLimit*100>20||e.agedReceivables60>0||"Legal"===e.riskLevel||"Insolvency"===e.riskLevel?{tier:"Crimson",level:5,color:"#7f1d1d",accentColor:"#fecaca",icon:b.Z,precedence:"HIGHEST",reason:"Credit stop triggered - Risk assessment indicates payment risk",actions:["Block all orders","Alert Finance team","Require manual approval","Weekly monitoring"]}:"Proforma"===e.paymentTerms||e.onTimePaymentRatio<.8||e.agedReceivables45>0||"High"===e.riskLevel?{tier:"Green (Proforma)",level:4,color:"#065f46",accentColor:"#d1fae5",icon:v.Z,precedence:"PRIORITY 2",reason:"Payment verification required - Elevated payment risk detected",actions:["Require payment on delivery","Monitor closely","Potential upgrade after 6 on-time payments","Daily tracking"]}:(e.avgMonthlyBilled6m>=5e4||e.annualBilled>=5e5)&&e.onTimePaymentRatio>=.95&&"Low"===e.riskLevel&&"Proforma"!==e.paymentTerms?{tier:"Platinum (Premier)",level:1,color:"#1e40af",accentColor:"#dbeafe",icon:j,precedence:"PRIORITY 3",reason:"Premium customer - Excellent payment history and high volume",actions:["Premium benefits","Extended payment terms","Priority support","Quarterly business review"]}:(e.avgMonthlyBilled6m>=15e3||e.ordersPerYear>=12)&&e.onTimePaymentRatio>=.9&&("Low"===e.riskLevel||"Medium"===e.riskLevel)&&"Proforma"!==e.paymentTerms?{tier:"Sapphire (Preferred)",level:2,color:"#334155",accentColor:"#e2e8f0",icon:u.Z,precedence:"PRIORITY 4",reason:"Preferred customer - Good payment history and regular business",actions:["Standard benefits","Good payment terms","Monthly check-in","Growth opportunities"]}:{tier:"Steel (Standard)",level:3,color:"#475569",accentColor:"#e2e8f0",icon:m.Z,precedence:"DEFAULT",reason:"Standard tier - Normal credit profile, requires ongoing monitoring",actions:["Standard terms","Monthly review","Credit check every 90 days","Monitor for upgrade"]};(0,s.useEffect)(()=>{let e=g.current;if(!e)return;let r=e.getContext("2d");if(!r)return;e.width=window.innerWidth,e.height=window.innerHeight;class t{constructor(){this.x=Math.random()*(e?.width||1e3),this.y=Math.random()*(e?.height||1e3),this.vx=(Math.random()-.5)*.2,this.vy=(Math.random()-.5)*.2,this.size=2*Math.random()+1}update(){this.x+=this.vx,this.y+=this.vy;let r=e?.width||1e3,t=e?.height||1e3;this.x<0&&(this.x=r),this.x>r&&(this.x=0),this.y<0&&(this.y=t),this.y>t&&(this.y=0)}draw(){r&&(r.fillStyle="rgba(71, 85, 105, 0.3)",r.fillRect(this.x,this.y,this.size,this.size))}}let i=Array.from({length:50},()=>new t),s=()=>{r&&(r.fillStyle="#0f172a",r.fillRect(0,0,e.width,e.height),i.forEach(e=>{e.update(),e.draw()}),requestAnimationFrame(s))};s();let a=()=>{e.width=window.innerWidth,e.height=window.innerHeight};return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);let C=f.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())||e.companyNumber.includes(t));return(0,i.jsxs)("div",{style:{position:"relative",minHeight:"100vh",overflow:"hidden"},children:[i.jsx("canvas",{ref:g,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0}}),(0,i.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,height:"72px",background:"#1e293b",borderBottom:"4px solid #3b82f6",zIndex:100,display:"flex",alignItems:"center",padding:"0 32px",boxShadow:"0 4px 20px rgba(0,0,0,0.4)"},children:[i.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"#e2e8f0"},children:"SFG Credit Checking System"}),(0,i.jsxs)("div",{style:{marginLeft:"auto",display:"flex",gap:"8px"},children:[i.jsx("button",{onClick:()=>r("search"),style:{padding:"8px 16px",background:"search"===e?"#3b82f6":"transparent",color:"#cbd5e1",border:"2px solid #3b82f6",borderRadius:"4px",fontWeight:"600",cursor:"pointer",fontSize:"12px"},children:"Search"}),i.jsx("button",{onClick:()=>r("history"),style:{padding:"8px 16px",background:"history"===e?"#3b82f6":"transparent",color:"#cbd5e1",border:"2px solid #3b82f6",borderRadius:"4px",fontWeight:"600",cursor:"pointer",fontSize:"12px"},children:"History"})]})]}),i.jsx("div",{style:{position:"relative",zIndex:10,padding:"100px 40px 40px",minHeight:"100vh"},children:(0,i.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:["search"===e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{background:"#1e40af",backdropFilter:"blur(16px)",border:"4px solid transparent",backgroundImage:"linear-gradient(#1e40af, #1e40af), linear-gradient(135deg, #94a3b8 0%, #cbd5e1 50%, #94a3b8 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"4px",padding:"28px",marginBottom:"32px",boxShadow:"0 12px 40px rgba(0,0,0,0.6)"},children:[i.jsx("h2",{style:{color:"#f1f5f9",fontSize:"22px",fontWeight:"700",marginBottom:"20px"},children:"Search Customer for Credit Check"}),i.jsx("input",{type:"text",placeholder:"Enter customer name or company number...",value:t,onChange:e=>a(e.target.value),style:{width:"100%",padding:"12px 16px",borderRadius:"6px",border:"2px solid #cbd5e1",fontSize:"14px",marginBottom:"16px",background:"#f1f5f9",color:"#0f172a"}}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},children:C.map(e=>(0,i.jsxs)("button",{onClick:()=>{o(e),y(e)},style:{background:n?.id===e.id?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",padding:"16px",cursor:"pointer",textAlign:"left",color:"#f1f5f9",transition:"all 0.2s"},children:[i.jsx("div",{style:{fontWeight:"600",marginBottom:"6px"},children:e.name}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#dbeafe",marginBottom:"4px"},children:["Co #: ",e.companyNumber]}),(0,i.jsxs)("div",{style:{fontSize:"11px",color:"#cbd5e1"},children:["Current: ",e.currentTier]})]},e.id))})]}),c&&(0,i.jsxs)("div",{style:{background:"#1e40af",backdropFilter:"blur(16px)",border:"4px solid transparent",backgroundImage:"linear-gradient(#1e40af, #1e40af), linear-gradient(135deg, #94a3b8 0%, #cbd5e1 50%, #94a3b8 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"4px",padding:"28px",textAlign:"center"},children:[i.jsx("div",{style:{color:"#f1f5f9",fontSize:"18px",fontWeight:"700",marginBottom:"16px"},children:"Checking Credit with Experian..."}),i.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid rgba(255,255,255,0.3)",borderTop:"4px solid #f1f5f9",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]}),d&&!c&&(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[(0,i.jsxs)("div",{style:{background:"#1e40af",backdropFilter:"blur(16px)",border:"4px solid transparent",backgroundImage:"linear-gradient(#1e40af, #1e40af), linear-gradient(135deg, #94a3b8 0%, #cbd5e1 50%, #94a3b8 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"4px",padding:"24px"},children:[i.jsx("h3",{style:{color:"#f1f5f9",fontSize:"16px",fontWeight:"700",marginBottom:"16px"},children:"Credit Metrics"}),(0,i.jsxs)("div",{style:{marginBottom:"12px"},children:[i.jsx("div",{style:{color:"#cbd5e1",fontSize:"12px",marginBottom:"4px"},children:"Credit Score"}),i.jsx("div",{style:{color:"#f1f5f9",fontSize:"28px",fontWeight:"700"},children:d.creditScore})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px"},children:[i.jsx("div",{style:{color:"#cbd5e1",fontSize:"11px",marginBottom:"4px"},children:"Credit Limit"}),(0,i.jsxs)("div",{style:{color:"#dbeafe",fontSize:"16px",fontWeight:"700"},children:["\xa3",d.creditLimit.toLocaleString()]})]}),(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px"},children:[i.jsx("div",{style:{color:"#cbd5e1",fontSize:"11px",marginBottom:"4px"},children:"Current Debt"}),(0,i.jsxs)("div",{style:{color:"#fca5a5",fontSize:"16px",fontWeight:"700"},children:["\xa3",d.currentDebt.toLocaleString()]})]})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px"},children:[i.jsx("div",{style:{color:"#cbd5e1",fontSize:"11px",marginBottom:"4px"},children:"On-Time Ratio"}),(0,i.jsxs)("div",{style:{color:"#86efac",fontSize:"16px",fontWeight:"700"},children:[(100*d.onTimePaymentRatio).toFixed(0),"%"]})]}),(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px"},children:[i.jsx("div",{style:{color:"#cbd5e1",fontSize:"11px",marginBottom:"4px"},children:"Annual Billed"}),(0,i.jsxs)("div",{style:{color:"#dbeafe",fontSize:"16px",fontWeight:"700"},children:["\xa3",d.annualBilled.toLocaleString()]})]})]}),(0,i.jsxs)("div",{style:{marginTop:"16px",background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px"},children:[i.jsx("div",{style:{color:"#cbd5e1",fontSize:"11px",marginBottom:"4px"},children:"Risk Level"}),i.jsx("div",{style:{color:"Low"===d.riskLevel?"#86efac":"High"===d.riskLevel?"#fca5a5":"#fbbf24",fontSize:"14px",fontWeight:"700"},children:d.riskLevel})]})]}),x&&(0,i.jsxs)("div",{style:{background:x.color,backdropFilter:"blur(16px)",border:"4px solid transparent",backgroundImage:`linear-gradient(${x.color}, ${x.color}), linear-gradient(135deg, #94a3b8 0%, #cbd5e1 50%, #94a3b8 100%)`,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"4px",padding:"24px",color:"#fef2f2",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[i.jsx(x.icon,{style:{width:"32px",height:"32px"}}),(0,i.jsxs)("div",{children:[i.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"ASSIGNED TIER"}),i.jsx("div",{style:{fontSize:"24px",fontWeight:"700"},children:x.tier})]})]}),(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.25)",padding:"12px",borderRadius:"6px",marginBottom:"16px"},children:[(0,i.jsxs)("div",{style:{fontSize:"12px",fontWeight:"600",marginBottom:"6px"},children:["PRECEDENCE: ",x.precedence]}),i.jsx("div",{style:{fontSize:"13px",lineHeight:"1.6"},children:x.reason})]}),(0,i.jsxs)("div",{style:{flex:1},children:[i.jsx("div",{style:{fontSize:"12px",fontWeight:"600",marginBottom:"8px"},children:"REQUIRED ACTIONS:"}),i.jsx("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"12px",lineHeight:"1.8"},children:x.actions.map((e,r)=>i.jsx("li",{children:e},r))})]}),i.jsx("button",{style:{marginTop:"16px",padding:"10px 16px",background:"rgba(255,255,255,0.2)",border:"2px solid rgba(255,255,255,0.4)",borderRadius:"6px",color:"#fef2f2",fontWeight:"600",cursor:"pointer",width:"100%"},children:"Approve Tier Assignment"})]})]})]}),"history"===e&&(0,i.jsxs)("div",{style:{background:"#1e40af",backdropFilter:"blur(16px)",border:"4px solid transparent",backgroundImage:"linear-gradient(#1e40af, #1e40af), linear-gradient(135deg, #94a3b8 0%, #cbd5e1 50%, #94a3b8 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"4px",padding:"28px"},children:[i.jsx("h2",{style:{color:"#f1f5f9",fontSize:"22px",fontWeight:"700",marginBottom:"20px"},children:"Credit Check History"}),i.jsx("div",{style:{color:"#dbeafe",fontSize:"14px"},children:f.map(e=>(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsxs)("div",{children:[i.jsx("div",{style:{fontWeight:"600",color:"#f1f5f9"},children:e.name}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#cbd5e1"},children:["Last checked: ",e.lastCheck]})]}),i.jsx("div",{style:{background:"Platinum"===e.currentTier?"#1e40af":"Sapphire"===e.currentTier?"#334155":"Proforma"===e.currentTier?"#065f46":"Crimson"===e.currentTier?"#7f1d1d":"#475569",padding:"6px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:e.currentTier})]},e.id))})]})]})}),i.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})};function C(){var e,r,t;let[b,v]=(0,s.useState)(""),[j,C]=(0,s.useState)([]),[S,N]=(0,s.useState)(null),[w,_]=(0,s.useState)(null),[R,M]=(0,s.useState)(!1),P=async()=>{if(!b.trim()){y.Am.error("Please enter a company name or number");return}M(!0);try{let e=await fetch(`/api/companies-house/search?q=${encodeURIComponent(b)}`),r=await e.json();if(!e.ok)throw Error(r.error||"Search failed");C(r.items||[]),r.items?.length===0&&y.Am.error("No companies found")}catch(e){y.Am.error(e.message||"Failed to search companies"),console.error("Search error:",e)}finally{M(!1)}},z=async e=>{N(e),M(!0);try{let r=await fetch(`/api/companies-house/credit-risk?number=${e.company_number}`),t=await r.json();if(!r.ok)throw Error(t.error||"Failed to assess credit risk");_(t),y.Am.success("Credit risk assessment completed")}catch(e){y.Am.error(e.message||"Failed to assess credit risk"),console.error("Credit risk error:",e)}finally{M(!1)}};return(0,i.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(m.Z,{className:"w-8 h-8"}),"Enhanced Credit Checker"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Real-time credit risk assessment using Companies House data"})]})}),(0,i.jsxs)(l.mQ,{defaultValue:"quick-check",className:"w-full",children:[(0,i.jsxs)(l.dr,{className:"grid w-full grid-cols-2",children:[i.jsx(l.SP,{value:"quick-check",children:"Quick Check (Companies House)"}),i.jsx(l.SP,{value:"full-system",children:"Full System (Legacy)"})]}),(0,i.jsxs)(l.nU,{value:"quick-check",className:"space-y-4",children:[(0,i.jsxs)(a.Zb,{children:[(0,i.jsxs)(a.Ol,{children:[i.jsx(a.ll,{children:"Company Search"}),i.jsx(a.SZ,{children:"Search for a UK company by name or registration number"})]}),(0,i.jsxs)(a.aY,{children:[(0,i.jsxs)("div",{className:"flex gap-2",children:[i.jsx(n.I,{placeholder:"e.g., ABC Manufacturing Ltd or 12345678",value:b,onChange:e=>v(e.target.value),onKeyDown:e=>"Enter"===e.key&&P()}),(0,i.jsxs)(o.z,{onClick:P,disabled:R,children:[i.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Search"]})]}),j.length>0&&(0,i.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,i.jsxs)("h3",{className:"font-semibold",children:["Results (",j.length,")"]}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:j.map(e=>i.jsx(a.Zb,{className:`cursor-pointer hover:bg-muted/50 transition-colors ${S?.company_number===e.company_number?"border-primary":""}`,onClick:()=>z(e),children:i.jsx(a.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-semibold",children:e.title}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Company No: ",e.company_number]}),e.address_snippet&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.address_snippet})]}),i.jsx(d.C,{variant:"active"===e.company_status?"default":"secondary",children:e.company_status})]})})},e.company_number))})]})]})]}),w&&S&&(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,i.jsxs)(a.Zb,{children:[i.jsx(a.Ol,{children:(0,i.jsxs)(a.ll,{className:"flex items-center gap-2",children:[i.jsx(m.Z,{className:"w-5 h-5"}),"Risk Assessment"]})}),(0,i.jsxs)(a.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:`text-3xl font-bold ${(e=w.score)>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}`,children:[w.score,"/100"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Credit Score"})]}),(e=>{let r={LOW:{variant:"default",icon:c.Z,color:"text-green-500"},MEDIUM:{variant:"secondary",icon:p.Z,color:"text-yellow-500"},HIGH:{variant:"destructive",icon:p.Z,color:"text-orange-500"},CRITICAL:{variant:"destructive",icon:x.Z,color:"text-red-500"}},{variant:t,icon:s,color:a}=r[e]||r.MEDIUM;return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(s,{className:`w-5 h-5 ${a}`}),(0,i.jsxs)(d.C,{variant:t,children:[e," RISK"]})]})})(w.risk_level)]}),w.factors&&w.factors.length>0&&(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Risk Factors"}),i.jsx("ul",{className:"space-y-2",children:w.factors.map((e,r)=>(0,i.jsxs)("li",{className:"flex items-start gap-2",children:[i.jsx(p.Z,{className:"w-4 h-4 text-yellow-500 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:e})]},r))})]}),i.jsx("div",{className:"pt-4 border-t",children:(0,i.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Assessment based on Companies House data â€¢ Last updated:"," ",new Date().toLocaleString()]})})]})]}),(0,i.jsxs)(a.Zb,{children:[i.jsx(a.Ol,{children:(0,i.jsxs)(a.ll,{className:"flex items-center gap-2",children:[i.jsx(u.Z,{className:"w-5 h-5"}),"Recommendations"]})}),(0,i.jsxs)(a.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Suggested Customer Tier"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(d.C,{variant:"outline",className:"text-lg px-4 py-2",children:(r=w.score)>=80?"Platinum":r>=70?"Gold":r>=60?"Silver":r>=50?"Bronze":"Proforma Only"})})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Recommended Credit Limit"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(g.Z,{className:"w-5 h-5 text-green-600"}),(0,i.jsxs)("span",{className:"text-2xl font-bold",children:["\xa3",(t=w.score,Math.round(({LOW:1e5,MEDIUM:5e4,HIGH:25e3,CRITICAL:0}[w.risk_level]||25e3)*(t/100))).toLocaleString()]})]})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Payment Terms"}),(0,i.jsxs)("ul",{className:"space-y-2 text-sm",children:[w.score>=80&&(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[i.jsx(c.Z,{className:"w-4 h-4 text-green-500"}),"60-day terms approved"]}),w.score>=60&&(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[i.jsx(c.Z,{className:"w-4 h-4 text-green-500"}),"30-day terms approved"]}),w.score<60&&(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[i.jsx(p.Z,{className:"w-4 h-4 text-yellow-500"}),"Proforma or COD recommended"]}),w.score<40&&(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[i.jsx(x.Z,{className:"w-4 h-4 text-red-500"}),"Consider declining credit"]})]})]}),i.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:(0,i.jsxs)("p",{className:"text-xs text-blue-900 dark:text-blue-100",children:[i.jsx("strong",{children:"Note:"})," These are automated recommendations based on Companies House data. Please conduct additional due diligence for final credit decisions."]})})]})]}),w.profile&&(0,i.jsxs)(a.Zb,{className:"lg:col-span-2",children:[i.jsx(a.Ol,{children:(0,i.jsxs)(a.ll,{className:"flex items-center gap-2",children:[i.jsx(f.Z,{className:"w-5 h-5"}),"Company Profile Summary"]})}),(0,i.jsxs)(a.aY,{children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Company Name"}),i.jsx("p",{className:"font-semibold",children:w.profile.company_name})]}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),i.jsx(d.C,{variant:"active"===w.profile.company_status?"default":"secondary",children:w.profile.company_status})]}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),i.jsx("p",{children:w.profile.type})]}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Incorporated"}),i.jsx("p",{children:new Date(w.profile.date_of_creation).toLocaleDateString()})]})]}),w.profile.registered_office_address&&(0,i.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Registered Address"}),(0,i.jsxs)("div",{className:"text-sm",children:[w.profile.registered_office_address.address_line_1&&i.jsx("p",{children:w.profile.registered_office_address.address_line_1}),w.profile.registered_office_address.locality&&i.jsx("p",{children:w.profile.registered_office_address.locality}),w.profile.registered_office_address.postal_code&&i.jsx("p",{children:w.profile.registered_office_address.postal_code})]})]})]})]})]})]}),i.jsx(l.nU,{value:"full-system",children:i.jsx(k,{})})]})]})}},31606:(e,r,t)=>{"use strict";t.d(r,{C:()=>o});var i=t(62901);t(24383);var s=t(47279),a=t(68637);let n=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:r,...t}){return i.jsx("div",{className:(0,a.cn)(n({variant:r}),e),...t})}},1320:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});let i=(0,t(71945).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},558:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});let i=(0,t(71945).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},61659:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});let i=(0,t(71945).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},21391:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});let i=(0,t(71945).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},19175:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});let i=(0,t(71945).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},30808:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});let i=(0,t(71945).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},95820:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});let i=(0,t(88895).createProxy)(String.raw`/home/ubuntu/company_wiki/nextjs_space/app/(app)/credit-checker/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[4372,7329,4958,302,1263,5003,7343,1813,4913,7486],()=>t(2144));module.exports=i})();