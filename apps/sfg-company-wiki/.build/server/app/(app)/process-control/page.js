(()=>{var e={};e.id=1125,e.ids=[1125],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},39647:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>p,routeModule:()=>x,tree:()=>l}),i(13220),i(21769),i(71363),i(70443);var r=i(36576),s=i(72007),o=i(21818),n=i.n(o),d=i(88897),a={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>d[e]);i.d(t,a);let l=["",{children:["(app)",{children:["process-control",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,13220)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/process-control/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,21769)),"/home/ubuntu/company_wiki/nextjs_space/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,71363,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,70443)),"/home/ubuntu/company_wiki/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,71363,23)),"next/dist/client/components/not-found-error"]}],p=["/home/ubuntu/company_wiki/nextjs_space/app/(app)/process-control/page.tsx"],c="/(app)/process-control/page",u={require:i,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(app)/process-control/page",pathname:"/process-control",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},61048:(e,t,i)=>{Promise.resolve().then(i.bind(i,87775))},87775:(e,t,i)=>{"use strict";i.d(t,{SFGProcessUI:()=>x});var r=i(62901),s=i(24383),o=i(60004),n=i(19175),d=i(21680),a=i(21391),l=i(91334),p=i(71945);let c=(0,p.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),u=(0,p.Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),x=()=>{let[e,t]=(0,s.useState)("overview"),[i,p]=(0,s.useState)(null),[x,g]=(0,s.useState)(!1),m={ENQ:"#FFFFFF",QUO:"#2E6FB9",ORD:"#C17D00",INV:"#9333EA",DEL:"#001F3F",PAID:"#1E8959",MISSING:"#B8322B"},h=[{id:1,baseNumber:"2025-001",prefix:"SFG",customer:"Acme Construction Ltd",project:"Office Refurb Phase 2",location:"London, UK",productType:"Aluminum Frames",deliveryType:"Supply&Install",status:"ORD",enquiryCount:45,productCount:45,preparedCount:42,deliveredCount:0,daysActive:23,lastUpdate:"2025-10-05",issues:["MISSING","ProductCountChange"],contacts:{primary:"John Smith",accounts:"Sarah Jones"}},{id:2,baseNumber:"2025-002",prefix:"SFG",customer:"BuildTech Solutions",project:"Factory Extension",location:"Manchester, UK",productType:"Structural Components",deliveryType:"SupplyOnly",status:"QUO",enquiryCount:120,productCount:120,preparedCount:0,deliveredCount:0,daysActive:8,lastUpdate:"2025-10-06",issues:[],contacts:{primary:"Emma Watson",accounts:"David Miller"}},{id:3,baseNumber:"2025-003",prefix:"SFG",customer:"Premier Windows Ltd",project:"Residential Complex",location:"Birmingham, UK",productType:"Window Frames",deliveryType:"Collected",status:"PAID",enquiryCount:280,productCount:280,preparedCount:280,deliveredCount:280,daysActive:67,lastUpdate:"2025-10-03",issues:[],contacts:{primary:"Robert Chen",accounts:"Lisa Park"}}],y=[{stage:"05a",name:"Incoming Requests",color:"#D3E3F6"},{stage:"05b",name:"SFG Issue",color:"#A6C7EC"},{stage:"05c",name:"Change Requests",color:"#7BAEE0"},{stage:"05d",name:"Confirmations",color:"#4C8DCE"},{stage:"05e",name:"Approval",color:"#2E6FB9"},{stage:"↓",name:"Promote to 10c",color:"#1E5AA0"},{stage:"10c",name:"Drawing Approved (Locked)",color:"#0B2A4A"}],b=({project:e})=>{let t=[{label:"ENQ",count:e.enquiryCount},{label:"QUO",count:e.productCount},{label:"ORD",count:e.productCount},{label:"Prepared",count:e.preparedCount},{label:"DEL",count:e.deliveredCount}];return r.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginTop:"12px"},children:t.map((e,i)=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsxs)("div",{style:{padding:"6px 12px",background:"#36414D",border:"1px solid #4A5562",borderRadius:"6px",fontSize:"12px",fontWeight:"bold"},children:[(0,r.jsxs)("span",{style:{opacity:.6},children:[e.label,": "]}),r.jsx("span",{children:e.count})]}),i<t.length-1&&r.jsx(o.Z,{size:16,style:{opacity:.5}})]},i))})};return(0,r.jsxs)("div",{style:{background:"#111418",color:"white",fontFamily:"Inter, system-ui, -apple-system, sans-serif",minHeight:"100vh"},children:[(0,r.jsxs)("div",{style:{background:"#1B2128",borderBottom:"3px solid #2E6FB9",padding:"20px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:1e3},children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",margin:0},children:"SFG Aluminium – Process Control"}),r.jsx("p",{style:{fontSize:"12px",opacity:.6,margin:"4px 0 0 0"},children:"Project Management & Non-Negotiable Enforcement"})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,r.jsxs)("button",{style:{padding:"10px 16px",background:x?"#2E6FB9":"#36414D",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},onClick:()=>g(!x),children:["Non-Negotiables ",x&&"✓"]}),r.jsx("button",{style:{padding:"10px 16px",background:"#1E5AA0",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"+ New Project"})]})]}),r.jsx("div",{style:{padding:"24px"},children:x?(0,r.jsxs)("div",{style:{maxWidth:"1200px"},children:[r.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"20px"},children:"Authority to Change – Non-Negotiables (Locked)"}),r.jsx("div",{style:{padding:"16px",background:"#27303A",border:"2px solid #B8322B",borderRadius:"10px",marginBottom:"24px"},children:(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"start",marginBottom:"12px"},children:[r.jsx(n.Z,{size:20,style:{color:"#B8322B",marginTop:"2px",flexShrink:0}}),(0,r.jsxs)("div",{children:[r.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:"Approval Authority"}),r.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"Only these roles may approve changes:"}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",marginTop:"8px"},children:["Warren Heathcote (Operations Manager)","Yanika Heathcote (Admin/Director)","Pawel Marzec (Operations Manager)"].map((e,t)=>r.jsx("div",{style:{padding:"8px 12px",background:"#0B2A4A",borderRadius:"6px",fontSize:"12px",fontWeight:"bold"},children:e},t))}),(0,r.jsxs)("div",{style:{fontSize:"12px",marginTop:"12px",opacity:.7},children:["Process: Written approval from ",r.jsx("strong",{children:"at least 2 of 3"}),". All changes versioned and logged in Anti-Drift baseline."]})]})]})}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[{id:1,title:"BaseNumber Immutable",desc:"BaseNumber is immutable and always first in subject, filename, and folder path",severity:"critical"},{id:2,title:"Active/Completed Canon",desc:"Active and Completed are canonical roots. Month folders are shortcuts only.",severity:"critical"},{id:3,title:"Required Fields",desc:"Must have: BaseNumber, Prefix, Customer, Project, Location, ProductType, DeliveryType, ENQ_initial_count",severity:"critical"},{id:4,title:"Product Count Chain",desc:"Maintain count ENQ → QUO (all revs) → ORD → INV → DEL/Collect → PAID",severity:"critical"},{id:5,title:"Email/Filename Patterns",desc:"Subjects and filenames must follow defined patterns precisely. Deviation raises red alert.",severity:"high"},{id:6,title:"Drawing Workflow",desc:"05a → 05b → 05c → 05d → 05e locked sequence. Approved to 10c, rejected to 05g.",severity:"high"},{id:7,title:"Approved Docs Lock",desc:"Section 10 locked when populated. Changes require version increment + audit trail.",severity:"high"},{id:8,title:"No Client Secrets",desc:"No secrets client-side. Azure Key Vault only. Abacus.ai API rotation every 90 days.",severity:"critical"},{id:9,title:"Anti-Drift Control",desc:"Daily baseline hashing. Major drift disables flows and alerts Governance.",severity:"high"},{id:10,title:"Xero Decision",desc:"Option A (SFG-first) or B (Xero-first) must be decided before production go-live.",severity:"high"}].map(e=>(0,r.jsxs)("div",{style:{padding:"16px",background:"#27303A",border:`2px solid ${"critical"===e.severity?"#B8322B":"#C17D00"}`,borderRadius:"10px"},children:[(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"start",marginBottom:"8px"},children:["critical"===e.severity?r.jsx(d.Z,{size:18,style:{color:"#B8322B",flexShrink:0}}):r.jsx(a.Z,{size:18,style:{color:"#C17D00",flexShrink:0}}),r.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",color:"critical"===e.severity?"#B8322B":"#C17D00"},children:e.severity.toUpperCase()})]}),r.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold"},children:e.title}),r.jsx("p",{style:{margin:0,fontSize:"12px",opacity:.7},children:e.desc})]},e.id))})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:["overview","drawings","folder","product-count"].map(i=>(0,r.jsxs)("button",{onClick:()=>t(i),style:{padding:"10px 16px",background:e===i?"#1E5AA0":"#27303A",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:e===i?"bold":"normal"},children:["overview"===i&&"Active Projects","drawings"===i&&"Drawing Workflow","folder"===i&&"Folder Structure","product-count"===i&&"Product Count Chain"]},i))}),"overview"===e&&r.jsx("div",{style:{display:"grid",gap:"16px"},children:h.map(e=>(0,r.jsxs)("div",{onClick:()=>p(e.id),style:{padding:"20px",background:"#27303A",border:`1px solid ${e.issues.length>0?"#B8322B":"#4A5562"}`,borderRadius:"10px",cursor:"pointer",transition:"all 120ms ease"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center",marginBottom:"4px"},children:[(0,r.jsxs)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:[e.baseNumber,"-",e.prefix]}),r.jsx("span",{style:{padding:"4px 12px",background:m[e.status],color:"ENQ"===e.status?"#000":"#fff",borderRadius:"6px",fontSize:"11px",fontWeight:"bold"},children:e.status})]}),r.jsx("div",{style:{fontSize:"13px",fontWeight:"bold",marginBottom:"4px"},children:e.customer}),(0,r.jsxs)("div",{style:{fontSize:"12px",opacity:.7},children:[e.project," • ",e.location]})]}),(0,r.jsxs)("div",{style:{textAlign:"right"},children:[e.issues.length>0&&r.jsx("div",{style:{display:"flex",gap:"4px",justifyContent:"flex-end",marginBottom:"8px"},children:e.issues.map(e=>r.jsx("span",{style:{padding:"4px 8px",background:"#B8322B",borderRadius:"4px",fontSize:"10px",fontWeight:"bold"},children:e},e))}),(0,r.jsxs)("div",{style:{fontSize:"12px",opacity:.6},children:[e.daysActive," days active"]})]})]}),r.jsx(b,{project:e}),r.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #36414D"},children:[{icon:l.Z,label:"View"},{icon:c,label:"Duplicate"},{icon:u,label:"Archive"}].map((e,t)=>(0,r.jsxs)("button",{style:{padding:"6px 12px",background:"#36414D",border:"none",borderRadius:"6px",color:"#2E6FB9",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"6px",fontWeight:"bold"},children:[r.jsx(e.icon,{size:14}),e.label]},t))})]},e.id))}),"drawings"===e&&(0,r.jsxs)("div",{style:{padding:"24px",background:"#27303A",borderRadius:"10px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"20px"},children:"Drawing Workflow (Non-Negotiable Sequence)"}),r.jsx("div",{style:{display:"flex",gap:"12px",overflowX:"auto",paddingBottom:"16px"},children:y.map((e,t)=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,r.jsxs)("div",{style:{padding:"12px 16px",background:e.color,borderRadius:"8px",minWidth:"120px",textAlign:"center",color:"#000",fontWeight:"bold",fontSize:"13px"},children:[r.jsx("div",{style:{fontSize:"11px",opacity:.7},children:e.stage}),r.jsx("div",{style:{fontSize:"12px",marginTop:"4px"},children:e.name})]}),t<y.length-1&&r.jsx(o.Z,{size:20,style:{opacity:.5}})]},t))}),(0,r.jsxs)("div",{style:{padding:"16px",background:"#36414D",borderLeft:"4px solid #1E5AA0",borderRadius:"6px",marginTop:"20px",fontSize:"12px"},children:[r.jsx("strong",{children:"Locked Rule:"})," No skipping steps. 05a→05b→05c→05d→05e sequence cannot be reordered. Approved drawings promote to 10c and lock previous versions. Rejected designs move to 05g. Live working drawings maintained in 05f."]})]}),"folder"===e&&(0,r.jsxs)("div",{style:{padding:"24px",background:"#27303A",borderRadius:"10px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"20px"},children:"Canonical Folder Structure (Immutable Order)"}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[{num:"01",name:"Enquiry",nested:!1},{num:"02",name:"Customer Replies",nested:!1},{num:"03",name:"SFG Quotes",nested:!1},{num:"04",name:"Customer Orders (Inbound)",nested:!1},{num:"05",name:"Drawings",nested:!0,children:["05a Incoming","05b SFG Issue","05c Change Requests","05d Confirmations","05e Approval","05f Live","05g Rejected"]},{num:"06",name:"Site Photos",nested:!1},{num:"07",name:"Customers",nested:!0,children:["07a RFQs","07b POs"]},{num:"08",name:"Waiting For Approval",nested:!1},{num:"09",name:"Invoicing",nested:!1},{num:"10",name:"Approved Documents",nested:!0,children:["10a Quote Approved","10b PO Received","10c Drawing Approved","10d Agreements Mirror"],locked:!0}].map((e,t)=>(0,r.jsxs)("div",{style:{padding:"12px",background:e.locked?"#36414D99":"#36414D",border:`1px solid ${e.locked?"#1E5AA0":"#4A5562"}`,borderRadius:"6px",opacity:e.locked?.8:1},children:[(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"8px"},children:[r.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#2E6FB9"},children:e.num}),r.jsx("span",{style:{fontWeight:"bold",fontSize:"13px"},children:e.name}),e.locked&&r.jsx(n.Z,{size:14,style:{color:"#1E5AA0",marginLeft:"auto"}})]}),e.children&&r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:e.children.map(e=>r.jsx("span",{style:{padding:"4px 8px",background:"#4A5562",borderRadius:"4px",fontSize:"11px",opacity:.8},children:e},e))})]},t))})]}),"product-count"===e&&(0,r.jsxs)("div",{style:{padding:"24px",background:"#27303A",borderRadius:"10px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"20px"},children:"Product Count Chain (Immutable Tracking)"}),(0,r.jsxs)("div",{style:{padding:"16px",background:"#36414D",borderRadius:"8px",marginBottom:"20px",fontSize:"13px",lineHeight:"1.6"},children:[r.jsx("strong",{children:"Rule:"})," Maintain count from ENQ → QUO (all revisions) → ORD → INV → DEL/Collect → PAID",(0,r.jsxs)("div",{style:{marginTop:"12px",opacity:.8},children:["• Count complete deliverables with own price",r.jsx("br",{}),"• Separately priced accessories count; consumables do not",r.jsx("br",{}),"• QUO→ORD blocked if ENQ_initial_count or Current_product_count is MISSING",r.jsx("br",{}),"• On count change: log ProductCountLog, post Teams alert, create Planner task for Estimator self-sign"]})]}),r.jsx("div",{style:{display:"grid",gap:"12px"},children:h.map(e=>(0,r.jsxs)("div",{style:{padding:"12px",background:"#36414D",border:"1px solid #4A5562",borderRadius:"6px"},children:[(0,r.jsxs)("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:[e.baseNumber,": ",e.customer]}),r.jsx(b,{project:e})]},e.id))})]})]})})]})}},21391:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let r=(0,i(71945).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},91334:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let r=(0,i(71945).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},19175:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let r=(0,i(71945).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},13220:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n,metadata:()=>o});var r=i(83537);let s=(0,i(88895).createProxy)(String.raw`/home/ubuntu/company_wiki/nextjs_space/components/sfg/process-control.tsx#SFGProcessUI`),o={title:"Process Control - SFG Aluminium Wiki",description:"Project management, drawing workflows, folder structure, and product count chain"};function n(){return r.jsx(s,{})}}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[4372,7329,4958,302,1263,5003,7343,4913],()=>i(39647));module.exports=r})();