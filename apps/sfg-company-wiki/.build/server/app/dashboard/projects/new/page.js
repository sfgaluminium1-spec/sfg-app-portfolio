(()=>{var e={};e.id=308,e.ids=[308],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61571:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(20886),a(70443),a(71363);var t=a(36576),s=a(72007),l=a(21818),i=a.n(l),n=a(88897),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(r,o);let d=["",{children:["dashboard",{children:["projects",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,20886)),"/home/ubuntu/company_wiki/nextjs_space/app/dashboard/projects/new/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,70443)),"/home/ubuntu/company_wiki/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,71363,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/company_wiki/nextjs_space/app/dashboard/projects/new/page.tsx"],u="/dashboard/projects/new/page",h={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/projects/new/page",pathname:"/dashboard/projects/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},50154:(e,r,a)=>{Promise.resolve().then(a.bind(a,59710))},59710:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>v});var t=a(62901),s=a(24383),l=a(84374),i=a(23803),n=a(27878),o=a(250),d=a(74128),c=a(52),u=a(72388),h=a(75909),m=a(35825);let p=(0,a(71945).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var x=a(62392),j=a(19894),b=a(80568);function v(){let e=(0,l.useRouter)(),[r,a]=(0,s.useState)(!1),[v,g]=(0,s.useState)(""),[y,f]=(0,s.useState)({customer:"",project:"",location:"",productType:"",deliveryType:"",customerOrderNumber:"",enquiryInitialCount:"",notes:"",priority:"MEDIUM"}),w=async r=>{r.preventDefault(),a(!0),g("");try{let r=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to create project")}let a=await r.json();e.push(`/dashboard/projects/${a.id}`)}catch(e){g(e.message)}finally{a(!1)}},N=(e,r)=>{f(a=>({...a,[e]:r}))};return(0,t.jsxs)("div",{className:"container mx-auto p-6 max-w-4xl",children:[(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx(x.default,{href:"/dashboard/projects",children:(0,t.jsxs)(n.z,{variant:"ghost",className:"mb-4",children:[t.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Back to Projects"]})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Project"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"A unique BaseNumber will be automatically allocated"})]}),v&&(0,t.jsxs)(b.bZ,{variant:"destructive",className:"mb-6",children:[t.jsx(m.Z,{className:"h-4 w-4"}),t.jsx(b.X,{children:v})]}),(0,t.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,t.jsxs)(i.Zb,{className:"bg-white/60 backdrop-blur-sm border-gray-200/50",children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Required Fields"}),t.jsx(i.SZ,{children:"All fields are required for ENQ â†’ QUO progression"})]}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"customer",children:"Customer Name *"}),t.jsx(o.I,{id:"customer",value:y.customer,onChange:e=>N("customer",e.target.value),placeholder:"Company or individual name",className:"bg-white/80"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"project",children:"Project Name *"}),t.jsx(o.I,{id:"project",value:y.project,onChange:e=>N("project",e.target.value),placeholder:"e.g., Office Refurbishment",className:"bg-white/80"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"location",children:"Location *"}),t.jsx(o.I,{id:"location",value:y.location,onChange:e=>N("location",e.target.value),placeholder:"e.g., London, Birmingham",className:"bg-white/80"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"productType",children:"Product Type *"}),(0,t.jsxs)(u.Ph,{value:y.productType,onValueChange:e=>N("productType",e),children:[t.jsx(u.i4,{className:"bg-white/80",children:t.jsx(u.ki,{placeholder:"Select product type"})}),t.jsx(u.Bw,{children:j.nB.PRODUCT_TYPES.map(e=>t.jsx(u.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"deliveryType",children:"Delivery Type *"}),(0,t.jsxs)(u.Ph,{value:y.deliveryType,onValueChange:e=>N("deliveryType",e),children:[t.jsx(u.i4,{className:"bg-white/80",children:t.jsx(u.ki,{placeholder:"Select delivery type"})}),t.jsx(u.Bw,{children:j.nB.DELIVERY_TYPES.map(e=>t.jsx(u.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"enquiryInitialCount",children:"Initial Product Count *"}),t.jsx(o.I,{id:"enquiryInitialCount",type:"number",min:"0",value:y.enquiryInitialCount,onChange:e=>N("enquiryInitialCount",e.target.value),placeholder:"Number of products in enquiry",className:"bg-white/80"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Count only complete deliverables with their own price"})]})]})]}),(0,t.jsxs)(i.Zb,{className:"bg-white/60 backdrop-blur-sm border-gray-200/50",children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{children:"Additional Information"}),t.jsx(i.SZ,{children:"Optional fields"})]}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"customerOrderNumber",children:"Customer Order Number"}),t.jsx(o.I,{id:"customerOrderNumber",value:y.customerOrderNumber,onChange:e=>N("customerOrderNumber",e.target.value),placeholder:"Optional",className:"bg-white/80"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"priority",children:"Priority"}),(0,t.jsxs)(u.Ph,{value:y.priority,onValueChange:e=>N("priority",e),children:[t.jsx(u.i4,{className:"bg-white/80",children:t.jsx(u.ki,{})}),(0,t.jsxs)(u.Bw,{children:[t.jsx(u.Ql,{value:"LOW",children:"Low"}),t.jsx(u.Ql,{value:"MEDIUM",children:"Medium"}),t.jsx(u.Ql,{value:"HIGH",children:"High"}),t.jsx(u.Ql,{value:"CRITICAL",children:"Critical"})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"notes",children:"Notes"}),t.jsx(c.g,{id:"notes",value:y.notes,onChange:e=>N("notes",e.target.value),placeholder:"Additional notes about this enquiry",rows:4,className:"bg-white/80"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[t.jsx(x.default,{href:"/dashboard/projects",className:"flex-1",children:t.jsx(n.z,{type:"button",variant:"outline",className:"w-full",children:"Cancel"})}),t.jsx(n.z,{type:"submit",disabled:r,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:r?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(p,{className:"h-4 w-4 mr-2"}),"Create Project"]})})]})]})]})}},80568:(e,r,a)=>{"use strict";a.d(r,{X:()=>d,bZ:()=>o});var t=a(62901),s=a(24383),l=a(47279),i=a(68637);let n=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=s.forwardRef(({className:e,variant:r,...a},s)=>t.jsx("div",{ref:s,role:"alert",className:(0,i.cn)(n({variant:r}),e),...a}));o.displayName="Alert",s.forwardRef(({className:e,...r},a)=>t.jsx("h5",{ref:a,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...r})).displayName="AlertTitle";let d=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...r}));d.displayName="AlertDescription"},74128:(e,r,a)=>{"use strict";a.d(r,{_:()=>c});var t=a(62901),s=a(24383),l=a(74132),i=s.forwardRef((e,r)=>(0,t.jsx)(l.WV.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var n=a(47279),o=a(68637);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...r},a)=>t.jsx(i,{ref:a,className:(0,o.cn)(d(),e),...r}));c.displayName=i.displayName},52:(e,r,a)=>{"use strict";a.d(r,{g:()=>i});var t=a(62901),s=a(24383),l=a(68637);let i=s.forwardRef(({className:e,...r},a)=>t.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));i.displayName="Textarea"},75909:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(71945).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35825:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(71945).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},84374:(e,r,a)=>{"use strict";var t=a(75229);a.o(t,"useParams")&&a.d(r,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})},20886:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(88895).createProxy)(String.raw`/home/ubuntu/company_wiki/nextjs_space/app/dashboard/projects/new/page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[4372,302,1263,5003,5653,7731,9341],()=>a(61571));module.exports=t})();