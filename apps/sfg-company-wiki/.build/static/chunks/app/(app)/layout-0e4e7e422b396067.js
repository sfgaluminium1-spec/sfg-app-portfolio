(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5814],{5986:function(e,t,r){Promise.resolve().then(r.bind(r,3547)),Promise.resolve().then(r.bind(r,5846)),Promise.resolve().then(r.bind(r,8650)),Promise.resolve().then(r.t.bind(r,5558,23))},3547:function(e,t,r){"use strict";r.d(t,{Header:function(){return k}});var a=r(5444),i=r(9300),s=r(1084),n=r(5762),l=r(2422),o=r(4678),c=r(6378),d=r(6771),h=r(7953),u=r(362),f=r(199),m=r(4805),y=r(5076),x=r(2154);let p=(0,x.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var b=r(6488);let v=(0,x.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var g=r(4693);function k(){let{data:e}=(0,n.useSession)(),[t,r]=(0,i.useState)(""),x=[{href:"/dashboard",label:"Dashboard",icon:c.Z},{href:"/procedures",label:"Procedures",icon:d.Z},{href:"/categories",label:"Categories",icon:h.Z},{href:"/conflicts",label:"Conflicts",icon:u.Z},{href:"/chat",label:"AI Assistant",icon:f.Z},{href:"/import",label:"Import",icon:m.Z}];return(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"container mx-auto max-w-7xl flex h-14 items-center px-4",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)(s.default,{href:"/dashboard",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded bg-primary text-primary-foreground",children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"hidden font-bold sm:inline-block",children:"CompanyWiki"})]})}),(0,a.jsx)("nav",{className:"flex items-center space-x-1 ml-6",children:x.map(e=>{let t=e.icon;return(0,a.jsx)(s.default,{href:e.href,children:(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[(0,a.jsx)(t,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden md:inline",children:e.label})]})},e.href)})}),(0,a.jsx)("div",{className:"flex-1 flex justify-center px-4",children:(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),t.trim()&&(window.location.href=`/search?q=${encodeURIComponent(t)}`)},className:"w-full max-w-sm",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(o.I,{placeholder:"Search procedures, policies...",value:t,onChange:e=>r(e.target.value),className:"pl-8"})]})})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(s.default,{href:"/conflicts",children:(0,a.jsx)(l.z,{variant:"ghost",size:"icon",className:"relative",children:(0,a.jsx)(p,{className:"h-4 w-4"})})}),(0,a.jsx)(s.default,{href:"/settings",children:(0,a.jsx)(l.z,{variant:"ghost",size:"icon",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})}),e?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"hidden sm:block text-sm",children:[(0,a.jsx)("div",{className:"font-medium",children:e.user.name||e.user.email}),(0,a.jsx)("div",{className:"text-muted-foreground text-xs",children:e.user.role})]}),(0,a.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>(0,n.signOut)({callbackUrl:"/login"}),children:(0,a.jsx)(v,{className:"h-4 w-4"})})]}):(0,a.jsx)(s.default,{href:"/login",children:(0,a.jsx)(l.z,{variant:"ghost",size:"icon",children:(0,a.jsx)(g.Z,{className:"h-4 w-4"})})})]})]})})}},5846:function(e,t,r){"use strict";r.d(t,{Sidebar:function(){return A}});var a=r(5444),i=r(9300),s=r(1084),n=r(9047),l=r(2422),o=r(1489),c=r(6378),d=r(2154);let h=(0,d.Z)("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);var u=r(6771),f=r(7953),m=r(362);let y=(0,d.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),x=(0,d.Z)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);var p=r(5076),b=r(4624);let v=(0,d.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var g=r(9484),k=r(3648);let w=(0,d.Z)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),j=(0,d.Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var Z=r(199);let N=(0,d.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var z=r(4805);let M=(0,d.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var C=r(6488),P=r(3751),S=r(3572);let q=[{title:"Overview",items:[{href:"/dashboard",label:"Dashboard",icon:c.Z},{href:"/dashboard/projects",label:"Projects",icon:h},{href:"/procedures",label:"All Procedures",icon:u.Z},{href:"/categories",label:"Categories",icon:f.Z},{href:"/conflicts",label:"Conflicts",icon:m.Z}]},{title:"System Control",items:[{href:"/system-overview",label:"System Overview",icon:y},{href:"/process-control",label:"Process Control",icon:x},{href:"/credit-checker",label:"Credit Checker",icon:p.Z}]},{title:"External Integrations",items:[{href:"/company-intelligence",label:"Company Intelligence",icon:p.Z},{href:"/sharepoint-docs",label:"SharePoint Documents",icon:u.Z},{href:"/knowledge-smelter",label:"Knowledge Smelter",icon:f.Z}]},{title:"Company Data",items:[{href:"/staff-tiers",label:"Staff Tiers",icon:b.Z},{href:"/customer-tiers",label:"Customer Tiers",icon:v},{href:"/credit-checks",label:"Credit Checks",icon:g.Z},{href:"/pricing-rules",label:"Pricing & Margins",icon:k.Z},{href:"/payroll-formulas",label:"Payroll Formulas",icon:w},{href:"/project-numbering",label:"Project Numbers",icon:j}]},{title:"Tools",items:[{href:"/chat",label:"AI Assistant",icon:Z.Z},{href:"/prompt-library",label:"Prompt Library",icon:N},{href:"/import",label:"Import Data",icon:z.Z},{href:"/workflows",label:"Workflow Diagrams",icon:M}]},{title:"Administration",items:[{href:"/audit-logs",label:"Audit Trail",icon:u.Z},{href:"/users",label:"User Management",icon:b.Z},{href:"/settings",label:"Settings",icon:C.Z}]}];function A(){let e=(0,n.usePathname)(),[t,r]=(0,i.useState)(["Overview","System Control","External Integrations","Company Data"]),c=e=>{r(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,a.jsx)("div",{className:"flex h-full w-64 flex-col border-r bg-muted/40",children:(0,a.jsx)(o.x,{className:"flex-1 px-3 py-4",children:(0,a.jsx)("div",{className:"space-y-4",children:q.map(r=>(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",className:"w-full justify-start px-2 font-semibold text-muted-foreground hover:text-foreground",onClick:()=>c(r.title),children:[t.includes(r.title)?(0,a.jsx)(P.Z,{className:"mr-2 h-4 w-4"}):(0,a.jsx)(S.Z,{className:"mr-2 h-4 w-4"}),r.title]}),t.includes(r.title)&&(0,a.jsx)("div",{className:"mt-2 space-y-1",children:r.items.map(t=>{let r=t.icon,i=e===t.href;return(0,a.jsx)(s.default,{href:t.href,children:(0,a.jsxs)(l.z,{variant:i?"secondary":"ghost",size:"sm",className:"w-full justify-start pl-8",children:[(0,a.jsx)(r,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{className:"flex-1 text-left",children:t.label})]})},t.href)})})]},r.title))})})})}},8650:function(e,t,r){"use strict";r.d(t,{AnimatedBackground:function(){return s}});var a=r(5444),i=r(9300);function s(){let e=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let t;let r=e.current;if(!r)return;let a=r.getContext("2d");if(!a)return;let i=()=>{r.width=window.innerWidth,r.height=window.innerHeight};i(),window.addEventListener("resize",i);class s{constructor(e,t){this.x=Math.random()*e,this.y=Math.random()*t,this.z=1e3*Math.random(),this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.vz=(Math.random()-.5)*2,this.size=2*Math.random()+1}update(){r&&(this.x+=this.vx,this.y+=this.vy,this.z+=this.vz,(this.x<0||this.x>r.width)&&(this.vx*=-1),(this.y<0||this.y>r.height)&&(this.vy*=-1),(this.z<0||this.z>1e3)&&(this.vz*=-1))}draw(){if(!r||!a)return;let e=1e3/(1e3+this.z),t=this.x*e+r.width/2*(1-e),i=this.y*e+r.height/2*(1-e),s=this.size*e,n=1-this.z/1e3,l=a.createRadialGradient(t,i,0,t,i,2*s);l.addColorStop(0,`rgba(37, 99, 235, ${.8*n})`),l.addColorStop(.5,`rgba(59, 130, 246, ${.4*n})`),l.addColorStop(1,`rgba(96, 165, 250, ${0*n})`),a.fillStyle=l,a.beginPath(),a.arc(t,i,2*s,0,2*Math.PI),a.fill()}}let n=[];for(let e=0;e<80;e++)n.push(new s(r.width,r.height));let l=()=>{a.fillStyle="rgba(7, 12, 20, 0.1)",a.fillRect(0,0,r.width,r.height),n.forEach(e=>{e.update(),e.draw()}),n.forEach((e,t)=>{n.slice(t+1).forEach(t=>{let i=e.x-t.x,s=e.y-t.y,n=e.z-t.z,l=Math.sqrt(i*i+s*s+n*n);if(l<200){let i=1e3/(1e3+e.z),s=1e3/(1e3+t.z),n=e.x*i+r.width/2*(1-i),o=e.y*i+r.height/2*(1-i),c=t.x*s+r.width/2*(1-s),d=t.y*s+r.height/2*(1-s);a.strokeStyle=`rgba(37, 99, 235, ${(1-l/200)*.3})`,a.lineWidth=1,a.beginPath(),a.moveTo(n,o),a.lineTo(c,d),a.stroke()}})}),t=requestAnimationFrame(l)};return l(),()=>{window.removeEventListener("resize",i),cancelAnimationFrame(t)}},[]),(0,a.jsx)("canvas",{ref:e,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})}},2422:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var a=r(5444),i=r(9300),s=r(223),n=r(2371),l=r(5522);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...n},c)=>{let d=i?s.g7:"button";return(0,a.jsx)(d,{className:(0,l.cn)(o({variant:t,size:r,className:e})),ref:c,...n})});c.displayName="Button"},4678:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var a=r(5444),i=r(9300),s=r(5522);let n=i.forwardRef(({className:e,type:t,...r},i)=>(0,a.jsx)("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r}));n.displayName="Input"},1489:function(e,t,r){"use strict";r.d(t,{x:function(){return l}});var a=r(5444),i=r(9300),s=r(4712),n=r(5522);let l=i.forwardRef(({className:e,children:t,...r},i)=>(0,a.jsxs)(s.fC,{ref:i,className:(0,n.cn)("relative overflow-hidden",e),...r,children:[(0,a.jsx)(s.l_,{className:"h-full w-full rounded-[inherit]",children:t}),(0,a.jsx)(o,{}),(0,a.jsx)(s.Ns,{})]}));l.displayName=s.fC.displayName;let o=i.forwardRef(({className:e,orientation:t="vertical",...r},i)=>(0,a.jsx)(s.gb,{ref:i,orientation:t,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:(0,a.jsx)(s.q4,{className:"relative flex-1 rounded-full bg-border"})}));o.displayName=s.gb.displayName},5522:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(2191),i=r(3607);function s(...e){return(0,i.m6)((0,a.W)(e))}},6378:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(2154).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},3751:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(2154).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},3572:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(2154).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7953:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(2154).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},3648:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(2154).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6488:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(2154).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9484:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(2154).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},362:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(2154).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4805:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(2154).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},4624:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(2154).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1084:function(e,t,r){"use strict";r.d(t,{default:function(){return i.a}});var a=r(5558),i=r.n(a)},9047:function(e,t,r){"use strict";var a=r(1206);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[6730,5558,5762,7895,2386,7156,1744],function(){return e(e.s=5986)}),_N_E=e.O()}]);