(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6411],{7040:function(e,r,t){Promise.resolve().then(t.bind(t,3601))},3601:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return N}});var i=t(5444),s=t(9300),n=t(9827),a=t(4678),o=t(2422),d=t(1335),l=t(6765),c=t(2690),m=t(362),x=t(7694),p=t(9484),f=t(5076),u=t(4670),h=t(3648),g=t(2019),b=t(4611),y=t(1059),v=t(2492),j=t(4464);let k=()=>{let[e,r]=(0,s.useState)("search"),[t,n]=(0,s.useState)(""),[a,o]=(0,s.useState)(null),[d,l]=(0,s.useState)(null),[c,m]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null),h=(0,s.useRef)(null),g=[{id:1,name:"ABC Manufacturing Ltd",companyNumber:"12345678",currentTier:"Steel",lastCheck:"2025-10-01"},{id:2,name:"XYZ Installations plc",companyNumber:"87654321",currentTier:"Platinum",lastCheck:"2025-10-10"},{id:3,name:"Prime Components Ltd",companyNumber:"11223344",currentTier:"Proforma",lastCheck:"2025-09-20"},{id:4,name:"Global Trading Co",companyNumber:"55667788",currentTier:"Crimson",lastCheck:"2025-10-05"},{id:5,name:"Quality Builders Ltd",companyNumber:"99887766",currentTier:"Sapphire",lastCheck:"2025-10-08"}],b=e=>{m(!0),setTimeout(()=>{let r={companyName:e.name,companyNumber:e.companyNumber,creditScore:Math.floor(100*Math.random())+50,riskLevel:["Low","Medium","High","Legal","Insolvency"][Math.floor(5*Math.random())],creditLimit:Math.floor(5e5*Math.random())+5e4,currentDebt:Math.floor(1e5*Math.random()),agedReceivables45:Math.floor(5*Math.random()),agedReceivables60:Math.floor(3*Math.random()),avgMonthlyBilled6m:Math.floor(2e5*Math.random())+5e3,annualBilled:Math.floor(15e5*Math.random())+5e4,onTimePaymentRatio:parseFloat((.5*Math.random()+.5).toFixed(2)),ordersPerYear:Math.floor(50*Math.random())+1,paymentTerms:["30 Days","Proforma","COD"][Math.floor(3*Math.random())],frameworkContract:Math.random()>.7,checkProvider:"Experian",checkDate:new Date().toISOString()};l(r),f(k(r)),m(!1)},2e3)},k=e=>e.currentDebt/e.creditLimit*100>20||e.agedReceivables60>0||"Legal"===e.riskLevel||"Insolvency"===e.riskLevel?{tier:"Crimson",level:5,color:"#7f1d1d",accentColor:"#fecaca",icon:y.Z,precedence:"HIGHEST",reason:"Credit stop triggered - Risk assessment indicates payment risk",actions:["Block all orders","Alert Finance team","Require manual approval","Weekly monitoring"]}:"Proforma"===e.paymentTerms||e.onTimePaymentRatio<.8||e.agedReceivables45>0||"High"===e.riskLevel?{tier:"Green (Proforma)",level:4,color:"#065f46",accentColor:"#d1fae5",icon:v.Z,precedence:"PRIORITY 2",reason:"Payment verification required - Elevated payment risk detected",actions:["Require payment on delivery","Monitor closely","Potential upgrade after 6 on-time payments","Daily tracking"]}:(e.avgMonthlyBilled6m>=5e4||e.annualBilled>=5e5)&&e.onTimePaymentRatio>=.95&&"Low"===e.riskLevel&&"Proforma"!==e.paymentTerms?{tier:"Platinum (Premier)",level:1,color:"#1e40af",accentColor:"#dbeafe",icon:j.Z,precedence:"PRIORITY 3",reason:"Premium customer - Excellent payment history and high volume",actions:["Premium benefits","Extended payment terms","Priority support","Quarterly business review"]}:(e.avgMonthlyBilled6m>=15e3||e.ordersPerYear>=12)&&e.onTimePaymentRatio>=.9&&("Low"===e.riskLevel||"Medium"===e.riskLevel)&&"Proforma"!==e.paymentTerms?{tier:"Sapphire (Preferred)",level:2,color:"#334155",accentColor:"#e2e8f0",icon:u.Z,precedence:"PRIORITY 4",reason:"Preferred customer - Good payment history and regular business",actions:["Standard benefits","Good payment terms","Monthly check-in","Growth opportunities"]}:{tier:"Steel (Standard)",level:3,color:"#475569",accentColor:"#e2e8f0",icon:p.Z,precedence:"DEFAULT",reason:"Standard tier - Normal credit profile, requires ongoing monitoring",actions:["Standard terms","Monthly review","Credit check every 90 days","Monitor for upgrade"]};(0,s.useEffect)(()=>{let e=h.current;if(!e)return;let r=e.getContext("2d");if(!r)return;e.width=window.innerWidth,e.height=window.innerHeight;class t{constructor(){this.x=Math.random()*(e?.width||1e3),this.y=Math.random()*(e?.height||1e3),this.vx=(Math.random()-.5)*.2,this.vy=(Math.random()-.5)*.2,this.size=2*Math.random()+1}update(){this.x+=this.vx,this.y+=this.vy;let r=e?.width||1e3,t=e?.height||1e3;this.x<0&&(this.x=r),this.x>r&&(this.x=0),this.y<0&&(this.y=t),this.y>t&&(this.y=0)}draw(){r&&(r.fillStyle="rgba(71, 85, 105, 0.3)",r.fillRect(this.x,this.y,this.size,this.size))}}let i=Array.from({length:50},()=>new t),s=()=>{r&&(r.fillStyle="#0f172a",r.fillRect(0,0,e.width,e.height),i.forEach(e=>{e.update(),e.draw()}),requestAnimationFrame(s))};s();let n=()=>{e.width=window.innerWidth,e.height=window.innerHeight};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]);let N=g.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())||e.companyNumber.includes(t));return(0,i.jsxs)("div",{style:{position:"relative",minHeight:"100vh",overflow:"hidden"},children:[(0,i.jsx)("canvas",{ref:h,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0}}),(0,i.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,height:"72px",background:"#1e293b",borderBottom:"4px solid #3b82f6",zIndex:100,display:"flex",alignItems:"center",padding:"0 32px",boxShadow:"0 4px 20px rgba(0,0,0,0.4)"},children:[(0,i.jsx)("div",{style:{fontSize:"20px",fontWeight:"700",color:"#e2e8f0"},children:"SFG Credit Checking System"}),(0,i.jsxs)("div",{style:{marginLeft:"auto",display:"flex",gap:"8px"},children:[(0,i.jsx)("button",{onClick:()=>r("search"),style:{padding:"8px 16px",background:"search"===e?"#3b82f6":"transparent",color:"#cbd5e1",border:"2px solid #3b82f6",borderRadius:"4px",fontWeight:"600",cursor:"pointer",fontSize:"12px"},children:"Search"}),(0,i.jsx)("button",{onClick:()=>r("history"),style:{padding:"8px 16px",background:"history"===e?"#3b82f6":"transparent",color:"#cbd5e1",border:"2px solid #3b82f6",borderRadius:"4px",fontWeight:"600",cursor:"pointer",fontSize:"12px"},children:"History"})]})]}),(0,i.jsx)("div",{style:{position:"relative",zIndex:10,padding:"100px 40px 40px",minHeight:"100vh"},children:(0,i.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:["search"===e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{background:"#1e40af",backdropFilter:"blur(16px)",border:"4px solid transparent",backgroundImage:"linear-gradient(#1e40af, #1e40af), linear-gradient(135deg, #94a3b8 0%, #cbd5e1 50%, #94a3b8 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"4px",padding:"28px",marginBottom:"32px",boxShadow:"0 12px 40px rgba(0,0,0,0.6)"},children:[(0,i.jsx)("h2",{style:{color:"#f1f5f9",fontSize:"22px",fontWeight:"700",marginBottom:"20px"},children:"Search Customer for Credit Check"}),(0,i.jsx)("input",{type:"text",placeholder:"Enter customer name or company number...",value:t,onChange:e=>n(e.target.value),style:{width:"100%",padding:"12px 16px",borderRadius:"6px",border:"2px solid #cbd5e1",fontSize:"14px",marginBottom:"16px",background:"#f1f5f9",color:"#0f172a"}}),(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},children:N.map(e=>(0,i.jsxs)("button",{onClick:()=>{o(e),b(e)},style:{background:a?.id===e.id?"rgba(255,255,255,0.2)":"rgba(255,255,255,0.1)",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"8px",padding:"16px",cursor:"pointer",textAlign:"left",color:"#f1f5f9",transition:"all 0.2s"},children:[(0,i.jsx)("div",{style:{fontWeight:"600",marginBottom:"6px"},children:e.name}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#dbeafe",marginBottom:"4px"},children:["Co #: ",e.companyNumber]}),(0,i.jsxs)("div",{style:{fontSize:"11px",color:"#cbd5e1"},children:["Current: ",e.currentTier]})]},e.id))})]}),c&&(0,i.jsxs)("div",{style:{background:"#1e40af",backdropFilter:"blur(16px)",border:"4px solid transparent",backgroundImage:"linear-gradient(#1e40af, #1e40af), linear-gradient(135deg, #94a3b8 0%, #cbd5e1 50%, #94a3b8 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"4px",padding:"28px",textAlign:"center"},children:[(0,i.jsx)("div",{style:{color:"#f1f5f9",fontSize:"18px",fontWeight:"700",marginBottom:"16px"},children:"Checking Credit with Experian..."}),(0,i.jsx)("div",{style:{width:"60px",height:"60px",border:"4px solid rgba(255,255,255,0.3)",borderTop:"4px solid #f1f5f9",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]}),d&&!c&&(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[(0,i.jsxs)("div",{style:{background:"#1e40af",backdropFilter:"blur(16px)",border:"4px solid transparent",backgroundImage:"linear-gradient(#1e40af, #1e40af), linear-gradient(135deg, #94a3b8 0%, #cbd5e1 50%, #94a3b8 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"4px",padding:"24px"},children:[(0,i.jsx)("h3",{style:{color:"#f1f5f9",fontSize:"16px",fontWeight:"700",marginBottom:"16px"},children:"Credit Metrics"}),(0,i.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,i.jsx)("div",{style:{color:"#cbd5e1",fontSize:"12px",marginBottom:"4px"},children:"Credit Score"}),(0,i.jsx)("div",{style:{color:"#f1f5f9",fontSize:"28px",fontWeight:"700"},children:d.creditScore})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px"},children:[(0,i.jsx)("div",{style:{color:"#cbd5e1",fontSize:"11px",marginBottom:"4px"},children:"Credit Limit"}),(0,i.jsxs)("div",{style:{color:"#dbeafe",fontSize:"16px",fontWeight:"700"},children:["\xa3",d.creditLimit.toLocaleString()]})]}),(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px"},children:[(0,i.jsx)("div",{style:{color:"#cbd5e1",fontSize:"11px",marginBottom:"4px"},children:"Current Debt"}),(0,i.jsxs)("div",{style:{color:"#fca5a5",fontSize:"16px",fontWeight:"700"},children:["\xa3",d.currentDebt.toLocaleString()]})]})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px"},children:[(0,i.jsx)("div",{style:{color:"#cbd5e1",fontSize:"11px",marginBottom:"4px"},children:"On-Time Ratio"}),(0,i.jsxs)("div",{style:{color:"#86efac",fontSize:"16px",fontWeight:"700"},children:[(100*d.onTimePaymentRatio).toFixed(0),"%"]})]}),(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px"},children:[(0,i.jsx)("div",{style:{color:"#cbd5e1",fontSize:"11px",marginBottom:"4px"},children:"Annual Billed"}),(0,i.jsxs)("div",{style:{color:"#dbeafe",fontSize:"16px",fontWeight:"700"},children:["\xa3",d.annualBilled.toLocaleString()]})]})]}),(0,i.jsxs)("div",{style:{marginTop:"16px",background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px"},children:[(0,i.jsx)("div",{style:{color:"#cbd5e1",fontSize:"11px",marginBottom:"4px"},children:"Risk Level"}),(0,i.jsx)("div",{style:{color:"Low"===d.riskLevel?"#86efac":"High"===d.riskLevel?"#fca5a5":"#fbbf24",fontSize:"14px",fontWeight:"700"},children:d.riskLevel})]})]}),x&&(0,i.jsxs)("div",{style:{background:x.color,backdropFilter:"blur(16px)",border:"4px solid transparent",backgroundImage:`linear-gradient(${x.color}, ${x.color}), linear-gradient(135deg, #94a3b8 0%, #cbd5e1 50%, #94a3b8 100%)`,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"4px",padding:"24px",color:"#fef2f2",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,i.jsx)(x.icon,{style:{width:"32px",height:"32px"}}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{fontSize:"14px",opacity:.9},children:"ASSIGNED TIER"}),(0,i.jsx)("div",{style:{fontSize:"24px",fontWeight:"700"},children:x.tier})]})]}),(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.25)",padding:"12px",borderRadius:"6px",marginBottom:"16px"},children:[(0,i.jsxs)("div",{style:{fontSize:"12px",fontWeight:"600",marginBottom:"6px"},children:["PRECEDENCE: ",x.precedence]}),(0,i.jsx)("div",{style:{fontSize:"13px",lineHeight:"1.6"},children:x.reason})]}),(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",marginBottom:"8px"},children:"REQUIRED ACTIONS:"}),(0,i.jsx)("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"12px",lineHeight:"1.8"},children:x.actions.map((e,r)=>(0,i.jsx)("li",{children:e},r))})]}),(0,i.jsx)("button",{style:{marginTop:"16px",padding:"10px 16px",background:"rgba(255,255,255,0.2)",border:"2px solid rgba(255,255,255,0.4)",borderRadius:"6px",color:"#fef2f2",fontWeight:"600",cursor:"pointer",width:"100%"},children:"Approve Tier Assignment"})]})]})]}),"history"===e&&(0,i.jsxs)("div",{style:{background:"#1e40af",backdropFilter:"blur(16px)",border:"4px solid transparent",backgroundImage:"linear-gradient(#1e40af, #1e40af), linear-gradient(135deg, #94a3b8 0%, #cbd5e1 50%, #94a3b8 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"4px",padding:"28px"},children:[(0,i.jsx)("h2",{style:{color:"#f1f5f9",fontSize:"22px",fontWeight:"700",marginBottom:"20px"},children:"Credit Check History"}),(0,i.jsx)("div",{style:{color:"#dbeafe",fontSize:"14px"},children:g.map(e=>(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.2)",padding:"12px",borderRadius:"6px",marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{fontWeight:"600",color:"#f1f5f9"},children:e.name}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#cbd5e1"},children:["Last checked: ",e.lastCheck]})]}),(0,i.jsx)("div",{style:{background:"Platinum"===e.currentTier?"#1e40af":"Sapphire"===e.currentTier?"#334155":"Proforma"===e.currentTier?"#065f46":"Crimson"===e.currentTier?"#7f1d1d":"#475569",padding:"6px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:e.currentTier})]},e.id))})]})]})}),(0,i.jsx)("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})};function N(){var e,r,t;let[y,v]=(0,s.useState)(""),[j,N]=(0,s.useState)([]),[C,w]=(0,s.useState)(null),[S,R]=(0,s.useState)(null),[z,L]=(0,s.useState)(!1),M=async()=>{if(!y.trim()){b.Am.error("Please enter a company name or number");return}L(!0);try{let e=await fetch(`/api/companies-house/search?q=${encodeURIComponent(y)}`),r=await e.json();if(!e.ok)throw Error(r.error||"Search failed");N(r.items||[]),r.items?.length===0&&b.Am.error("No companies found")}catch(e){b.Am.error(e.message||"Failed to search companies"),console.error("Search error:",e)}finally{L(!1)}},T=async e=>{w(e),L(!0);try{let r=await fetch(`/api/companies-house/credit-risk?number=${e.company_number}`),t=await r.json();if(!r.ok)throw Error(t.error||"Failed to assess credit risk");R(t),b.Am.success("Credit risk assessment completed")}catch(e){b.Am.error(e.message||"Failed to assess credit risk"),console.error("Credit risk error:",e)}finally{L(!1)}};return(0,i.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,i.jsx)(p.Z,{className:"w-8 h-8"}),"Enhanced Credit Checker"]}),(0,i.jsx)("p",{className:"text-muted-foreground mt-1",children:"Real-time credit risk assessment using Companies House data"})]})}),(0,i.jsxs)(l.mQ,{defaultValue:"quick-check",className:"w-full",children:[(0,i.jsxs)(l.dr,{className:"grid w-full grid-cols-2",children:[(0,i.jsx)(l.SP,{value:"quick-check",children:"Quick Check (Companies House)"}),(0,i.jsx)(l.SP,{value:"full-system",children:"Full System (Legacy)"})]}),(0,i.jsxs)(l.nU,{value:"quick-check",className:"space-y-4",children:[(0,i.jsxs)(n.Zb,{children:[(0,i.jsxs)(n.Ol,{children:[(0,i.jsx)(n.ll,{children:"Company Search"}),(0,i.jsx)(n.SZ,{children:"Search for a UK company by name or registration number"})]}),(0,i.jsxs)(n.aY,{children:[(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(a.I,{placeholder:"e.g., ABC Manufacturing Ltd or 12345678",value:y,onChange:e=>v(e.target.value),onKeyDown:e=>"Enter"===e.key&&M()}),(0,i.jsxs)(o.z,{onClick:M,disabled:z,children:[(0,i.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Search"]})]}),j.length>0&&(0,i.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,i.jsxs)("h3",{className:"font-semibold",children:["Results (",j.length,")"]}),(0,i.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:j.map(e=>(0,i.jsx)(n.Zb,{className:`cursor-pointer hover:bg-muted/50 transition-colors ${C?.company_number===e.company_number?"border-primary":""}`,onClick:()=>T(e),children:(0,i.jsx)(n.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold",children:e.title}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Company No: ",e.company_number]}),e.address_snippet&&(0,i.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.address_snippet})]}),(0,i.jsx)(d.C,{variant:"active"===e.company_status?"default":"secondary",children:e.company_status})]})})},e.company_number))})]})]})]}),S&&C&&(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,i.jsxs)(n.Zb,{children:[(0,i.jsx)(n.Ol,{children:(0,i.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,i.jsx)(p.Z,{className:"w-5 h-5"}),"Risk Assessment"]})}),(0,i.jsxs)(n.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:`text-3xl font-bold ${(e=S.score)>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}`,children:[S.score,"/100"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Credit Score"})]}),(e=>{let r={LOW:{variant:"default",icon:c.Z,color:"text-green-500"},MEDIUM:{variant:"secondary",icon:m.Z,color:"text-yellow-500"},HIGH:{variant:"destructive",icon:m.Z,color:"text-orange-500"},CRITICAL:{variant:"destructive",icon:x.Z,color:"text-red-500"}},{variant:t,icon:s,color:n}=r[e]||r.MEDIUM;return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(s,{className:`w-5 h-5 ${n}`}),(0,i.jsxs)(d.C,{variant:t,children:[e," RISK"]})]})})(S.risk_level)]}),S.factors&&S.factors.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"Risk Factors"}),(0,i.jsx)("ul",{className:"space-y-2",children:S.factors.map((e,r)=>(0,i.jsxs)("li",{className:"flex items-start gap-2",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4 text-yellow-500 mt-0.5 flex-shrink-0"}),(0,i.jsx)("span",{className:"text-sm",children:e})]},r))})]}),(0,i.jsx)("div",{className:"pt-4 border-t",children:(0,i.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Assessment based on Companies House data â€¢ Last updated:"," ",new Date().toLocaleString()]})})]})]}),(0,i.jsxs)(n.Zb,{children:[(0,i.jsx)(n.Ol,{children:(0,i.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,i.jsx)(u.Z,{className:"w-5 h-5"}),"Recommendations"]})}),(0,i.jsxs)(n.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Suggested Customer Tier"}),(0,i.jsx)("div",{className:"flex items-center gap-2",children:(0,i.jsx)(d.C,{variant:"outline",className:"text-lg px-4 py-2",children:(r=S.score)>=80?"Platinum":r>=70?"Gold":r>=60?"Silver":r>=50?"Bronze":"Proforma Only"})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Recommended Credit Limit"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(h.Z,{className:"w-5 h-5 text-green-600"}),(0,i.jsxs)("span",{className:"text-2xl font-bold",children:["\xa3",(t=S.score,Math.round(({LOW:1e5,MEDIUM:5e4,HIGH:25e3,CRITICAL:0}[S.risk_level]||25e3)*(t/100))).toLocaleString()]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Payment Terms"}),(0,i.jsxs)("ul",{className:"space-y-2 text-sm",children:[S.score>=80&&(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(c.Z,{className:"w-4 h-4 text-green-500"}),"60-day terms approved"]}),S.score>=60&&(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(c.Z,{className:"w-4 h-4 text-green-500"}),"30-day terms approved"]}),S.score<60&&(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4 text-yellow-500"}),"Proforma or COD recommended"]}),S.score<40&&(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(x.Z,{className:"w-4 h-4 text-red-500"}),"Consider declining credit"]})]})]}),(0,i.jsx)("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:(0,i.jsxs)("p",{className:"text-xs text-blue-900 dark:text-blue-100",children:[(0,i.jsx)("strong",{children:"Note:"})," These are automated recommendations based on Companies House data. Please conduct additional due diligence for final credit decisions."]})})]})]}),S.profile&&(0,i.jsxs)(n.Zb,{className:"lg:col-span-2",children:[(0,i.jsx)(n.Ol,{children:(0,i.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,i.jsx)(g.Z,{className:"w-5 h-5"}),"Company Profile Summary"]})}),(0,i.jsxs)(n.aY,{children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Company Name"}),(0,i.jsx)("p",{className:"font-semibold",children:S.profile.company_name})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),(0,i.jsx)(d.C,{variant:"active"===S.profile.company_status?"default":"secondary",children:S.profile.company_status})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),(0,i.jsx)("p",{children:S.profile.type})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Incorporated"}),(0,i.jsx)("p",{children:new Date(S.profile.date_of_creation).toLocaleDateString()})]})]}),S.profile.registered_office_address&&(0,i.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Registered Address"}),(0,i.jsxs)("div",{className:"text-sm",children:[S.profile.registered_office_address.address_line_1&&(0,i.jsx)("p",{children:S.profile.registered_office_address.address_line_1}),S.profile.registered_office_address.locality&&(0,i.jsx)("p",{children:S.profile.registered_office_address.locality}),S.profile.registered_office_address.postal_code&&(0,i.jsx)("p",{children:S.profile.registered_office_address.postal_code})]})]})]})]})]})]}),(0,i.jsx)(l.nU,{value:"full-system",children:(0,i.jsx)(k,{})})]})]})}},1335:function(e,r,t){"use strict";t.d(r,{C:function(){return o}});var i=t(5444);t(9300);var s=t(2371),n=t(5522);let a=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:r,...t}){return(0,i.jsx)("div",{className:(0,n.cn)(a({variant:r}),e),...t})}},2422:function(e,r,t){"use strict";t.d(r,{z:function(){return l}});var i=t(5444),s=t(9300),n=t(223),a=t(2371),o=t(5522);let d=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef(({className:e,variant:r,size:t,asChild:s=!1,...a},l)=>{let c=s?n.g7:"button";return(0,i.jsx)(c,{className:(0,o.cn)(d({variant:r,size:t,className:e})),ref:l,...a})});l.displayName="Button"},9827:function(e,r,t){"use strict";t.d(r,{Ol:function(){return o},SZ:function(){return l},Zb:function(){return a},aY:function(){return c},eW:function(){return m},ll:function(){return d}});var i=t(5444),s=t(9300),n=t(5522);let a=s.forwardRef(({className:e,...r},t)=>(0,i.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let o=s.forwardRef(({className:e,...r},t)=>(0,i.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let d=s.forwardRef(({className:e,...r},t)=>(0,i.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let l=s.forwardRef(({className:e,...r},t)=>(0,i.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},t)=>(0,i.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let m=s.forwardRef(({className:e,...r},t)=>(0,i.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));m.displayName="CardFooter"},4678:function(e,r,t){"use strict";t.d(r,{I:function(){return a}});var i=t(5444),s=t(9300),n=t(5522);let a=s.forwardRef(({className:e,type:r,...t},s)=>(0,i.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));a.displayName="Input"},6765:function(e,r,t){"use strict";t.d(r,{SP:function(){return l},dr:function(){return d},mQ:function(){return o},nU:function(){return c}});var i=t(5444),s=t(9300),n=t(4367),a=t(5522);let o=n.fC,d=s.forwardRef(({className:e,...r},t)=>(0,i.jsx)(n.aV,{ref:t,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));d.displayName=n.aV.displayName;let l=s.forwardRef(({className:e,...r},t)=>(0,i.jsx)(n.xz,{ref:t,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));l.displayName=n.xz.displayName;let c=s.forwardRef(({className:e,...r},t)=>(0,i.jsx)(n.VY,{ref:t,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));c.displayName=n.VY.displayName},5522:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var i=t(2191),s=t(3607);function n(...e){return(0,s.m6)((0,i.W)(e))}}},function(e){e.O(0,[6730,4367,42,2386,7156,1744],function(){return e(e.s=7040)}),_N_E=e.O()}]);