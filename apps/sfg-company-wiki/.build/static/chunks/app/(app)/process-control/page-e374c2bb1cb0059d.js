(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1125],{5209:function(e,t,i){Promise.resolve().then(i.bind(i,410))},410:function(e,t,i){"use strict";i.d(t,{SFGProcessUI:function(){return x}});var n=i(5444),r=i(9300),o=i(3572),s=i(1059),d=i(362),a=i(2492),l=i(8082),c=i(2154);let p=(0,c.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),u=(0,c.Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),x=()=>{let[e,t]=(0,r.useState)("overview"),[i,c]=(0,r.useState)(null),[x,g]=(0,r.useState)(!1),h={ENQ:"#FFFFFF",QUO:"#2E6FB9",ORD:"#C17D00",INV:"#9333EA",DEL:"#001F3F",PAID:"#1E8959",MISSING:"#B8322B"},m=[{id:1,baseNumber:"2025-001",prefix:"SFG",customer:"Acme Construction Ltd",project:"Office Refurb Phase 2",location:"London, UK",productType:"Aluminum Frames",deliveryType:"Supply&Install",status:"ORD",enquiryCount:45,productCount:45,preparedCount:42,deliveredCount:0,daysActive:23,lastUpdate:"2025-10-05",issues:["MISSING","ProductCountChange"],contacts:{primary:"John Smith",accounts:"Sarah Jones"}},{id:2,baseNumber:"2025-002",prefix:"SFG",customer:"BuildTech Solutions",project:"Factory Extension",location:"Manchester, UK",productType:"Structural Components",deliveryType:"SupplyOnly",status:"QUO",enquiryCount:120,productCount:120,preparedCount:0,deliveredCount:0,daysActive:8,lastUpdate:"2025-10-06",issues:[],contacts:{primary:"Emma Watson",accounts:"David Miller"}},{id:3,baseNumber:"2025-003",prefix:"SFG",customer:"Premier Windows Ltd",project:"Residential Complex",location:"Birmingham, UK",productType:"Window Frames",deliveryType:"Collected",status:"PAID",enquiryCount:280,productCount:280,preparedCount:280,deliveredCount:280,daysActive:67,lastUpdate:"2025-10-03",issues:[],contacts:{primary:"Robert Chen",accounts:"Lisa Park"}}],y=[{stage:"05a",name:"Incoming Requests",color:"#D3E3F6"},{stage:"05b",name:"SFG Issue",color:"#A6C7EC"},{stage:"05c",name:"Change Requests",color:"#7BAEE0"},{stage:"05d",name:"Confirmations",color:"#4C8DCE"},{stage:"05e",name:"Approval",color:"#2E6FB9"},{stage:"↓",name:"Promote to 10c",color:"#1E5AA0"},{stage:"10c",name:"Drawing Approved (Locked)",color:"#0B2A4A"}],f=({project:e})=>{let t=[{label:"ENQ",count:e.enquiryCount},{label:"QUO",count:e.productCount},{label:"ORD",count:e.productCount},{label:"Prepared",count:e.preparedCount},{label:"DEL",count:e.deliveredCount}];return(0,n.jsx)("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginTop:"12px"},children:t.map((e,i)=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsxs)("div",{style:{padding:"6px 12px",background:"#36414D",border:"1px solid #4A5562",borderRadius:"6px",fontSize:"12px",fontWeight:"bold"},children:[(0,n.jsxs)("span",{style:{opacity:.6},children:[e.label,": "]}),(0,n.jsx)("span",{children:e.count})]}),i<t.length-1&&(0,n.jsx)(o.Z,{size:16,style:{opacity:.5}})]},i))})};return(0,n.jsxs)("div",{style:{background:"#111418",color:"white",fontFamily:"Inter, system-ui, -apple-system, sans-serif",minHeight:"100vh"},children:[(0,n.jsxs)("div",{style:{background:"#1B2128",borderBottom:"3px solid #2E6FB9",padding:"20px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,zIndex:1e3},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{style:{fontSize:"24px",fontWeight:"bold",margin:0},children:"SFG Aluminium – Process Control"}),(0,n.jsx)("p",{style:{fontSize:"12px",opacity:.6,margin:"4px 0 0 0"},children:"Project Management & Non-Negotiable Enforcement"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,n.jsxs)("button",{style:{padding:"10px 16px",background:x?"#2E6FB9":"#36414D",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},onClick:()=>g(!x),children:["Non-Negotiables ",x&&"✓"]}),(0,n.jsx)("button",{style:{padding:"10px 16px",background:"#1E5AA0",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"+ New Project"})]})]}),(0,n.jsx)("div",{style:{padding:"24px"},children:x?(0,n.jsxs)("div",{style:{maxWidth:"1200px"},children:[(0,n.jsx)("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"20px"},children:"Authority to Change – Non-Negotiables (Locked)"}),(0,n.jsx)("div",{style:{padding:"16px",background:"#27303A",border:"2px solid #B8322B",borderRadius:"10px",marginBottom:"24px"},children:(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"start",marginBottom:"12px"},children:[(0,n.jsx)(s.Z,{size:20,style:{color:"#B8322B",marginTop:"2px",flexShrink:0}}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:"bold",fontSize:"14px"},children:"Approval Authority"}),(0,n.jsx)("div",{style:{fontSize:"12px",opacity:.8},children:"Only these roles may approve changes:"}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",marginTop:"8px"},children:["Warren Heathcote (Operations Manager)","Yanika Heathcote (Admin/Director)","Pawel Marzec (Operations Manager)"].map((e,t)=>(0,n.jsx)("div",{style:{padding:"8px 12px",background:"#0B2A4A",borderRadius:"6px",fontSize:"12px",fontWeight:"bold"},children:e},t))}),(0,n.jsxs)("div",{style:{fontSize:"12px",marginTop:"12px",opacity:.7},children:["Process: Written approval from ",(0,n.jsx)("strong",{children:"at least 2 of 3"}),". All changes versioned and logged in Anti-Drift baseline."]})]})]})}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[{id:1,title:"BaseNumber Immutable",desc:"BaseNumber is immutable and always first in subject, filename, and folder path",severity:"critical"},{id:2,title:"Active/Completed Canon",desc:"Active and Completed are canonical roots. Month folders are shortcuts only.",severity:"critical"},{id:3,title:"Required Fields",desc:"Must have: BaseNumber, Prefix, Customer, Project, Location, ProductType, DeliveryType, ENQ_initial_count",severity:"critical"},{id:4,title:"Product Count Chain",desc:"Maintain count ENQ → QUO (all revs) → ORD → INV → DEL/Collect → PAID",severity:"critical"},{id:5,title:"Email/Filename Patterns",desc:"Subjects and filenames must follow defined patterns precisely. Deviation raises red alert.",severity:"high"},{id:6,title:"Drawing Workflow",desc:"05a → 05b → 05c → 05d → 05e locked sequence. Approved to 10c, rejected to 05g.",severity:"high"},{id:7,title:"Approved Docs Lock",desc:"Section 10 locked when populated. Changes require version increment + audit trail.",severity:"high"},{id:8,title:"No Client Secrets",desc:"No secrets client-side. Azure Key Vault only. Abacus.ai API rotation every 90 days.",severity:"critical"},{id:9,title:"Anti-Drift Control",desc:"Daily baseline hashing. Major drift disables flows and alerts Governance.",severity:"high"},{id:10,title:"Xero Decision",desc:"Option A (SFG-first) or B (Xero-first) must be decided before production go-live.",severity:"high"}].map(e=>(0,n.jsxs)("div",{style:{padding:"16px",background:"#27303A",border:`2px solid ${"critical"===e.severity?"#B8322B":"#C17D00"}`,borderRadius:"10px"},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"start",marginBottom:"8px"},children:["critical"===e.severity?(0,n.jsx)(d.Z,{size:18,style:{color:"#B8322B",flexShrink:0}}):(0,n.jsx)(a.Z,{size:18,style:{color:"#C17D00",flexShrink:0}}),(0,n.jsx)("div",{style:{fontSize:"12px",fontWeight:"bold",color:"critical"===e.severity?"#B8322B":"#C17D00"},children:e.severity.toUpperCase()})]}),(0,n.jsx)("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"bold"},children:e.title}),(0,n.jsx)("p",{style:{margin:0,fontSize:"12px",opacity:.7},children:e.desc})]},e.id))})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:["overview","drawings","folder","product-count"].map(i=>(0,n.jsxs)("button",{onClick:()=>t(i),style:{padding:"10px 16px",background:e===i?"#1E5AA0":"#27303A",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:e===i?"bold":"normal"},children:["overview"===i&&"Active Projects","drawings"===i&&"Drawing Workflow","folder"===i&&"Folder Structure","product-count"===i&&"Product Count Chain"]},i))}),"overview"===e&&(0,n.jsx)("div",{style:{display:"grid",gap:"16px"},children:m.map(e=>(0,n.jsxs)("div",{onClick:()=>c(e.id),style:{padding:"20px",background:"#27303A",border:`1px solid ${e.issues.length>0?"#B8322B":"#4A5562"}`,borderRadius:"10px",cursor:"pointer",transition:"all 120ms ease"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center",marginBottom:"4px"},children:[(0,n.jsxs)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:[e.baseNumber,"-",e.prefix]}),(0,n.jsx)("span",{style:{padding:"4px 12px",background:h[e.status],color:"ENQ"===e.status?"#000":"#fff",borderRadius:"6px",fontSize:"11px",fontWeight:"bold"},children:e.status})]}),(0,n.jsx)("div",{style:{fontSize:"13px",fontWeight:"bold",marginBottom:"4px"},children:e.customer}),(0,n.jsxs)("div",{style:{fontSize:"12px",opacity:.7},children:[e.project," • ",e.location]})]}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[e.issues.length>0&&(0,n.jsx)("div",{style:{display:"flex",gap:"4px",justifyContent:"flex-end",marginBottom:"8px"},children:e.issues.map(e=>(0,n.jsx)("span",{style:{padding:"4px 8px",background:"#B8322B",borderRadius:"4px",fontSize:"10px",fontWeight:"bold"},children:e},e))}),(0,n.jsxs)("div",{style:{fontSize:"12px",opacity:.6},children:[e.daysActive," days active"]})]})]}),(0,n.jsx)(f,{project:e}),(0,n.jsx)("div",{style:{display:"flex",gap:"8px",marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #36414D"},children:[{icon:l.Z,label:"View"},{icon:p,label:"Duplicate"},{icon:u,label:"Archive"}].map((e,t)=>(0,n.jsxs)("button",{style:{padding:"6px 12px",background:"#36414D",border:"none",borderRadius:"6px",color:"#2E6FB9",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"6px",fontWeight:"bold"},children:[(0,n.jsx)(e.icon,{size:14}),e.label]},t))})]},e.id))}),"drawings"===e&&(0,n.jsxs)("div",{style:{padding:"24px",background:"#27303A",borderRadius:"10px"},children:[(0,n.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"20px"},children:"Drawing Workflow (Non-Negotiable Sequence)"}),(0,n.jsx)("div",{style:{display:"flex",gap:"12px",overflowX:"auto",paddingBottom:"16px"},children:y.map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,n.jsxs)("div",{style:{padding:"12px 16px",background:e.color,borderRadius:"8px",minWidth:"120px",textAlign:"center",color:"#000",fontWeight:"bold",fontSize:"13px"},children:[(0,n.jsx)("div",{style:{fontSize:"11px",opacity:.7},children:e.stage}),(0,n.jsx)("div",{style:{fontSize:"12px",marginTop:"4px"},children:e.name})]}),t<y.length-1&&(0,n.jsx)(o.Z,{size:20,style:{opacity:.5}})]},t))}),(0,n.jsxs)("div",{style:{padding:"16px",background:"#36414D",borderLeft:"4px solid #1E5AA0",borderRadius:"6px",marginTop:"20px",fontSize:"12px"},children:[(0,n.jsx)("strong",{children:"Locked Rule:"})," No skipping steps. 05a→05b→05c→05d→05e sequence cannot be reordered. Approved drawings promote to 10c and lock previous versions. Rejected designs move to 05g. Live working drawings maintained in 05f."]})]}),"folder"===e&&(0,n.jsxs)("div",{style:{padding:"24px",background:"#27303A",borderRadius:"10px"},children:[(0,n.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"20px"},children:"Canonical Folder Structure (Immutable Order)"}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[{num:"01",name:"Enquiry",nested:!1},{num:"02",name:"Customer Replies",nested:!1},{num:"03",name:"SFG Quotes",nested:!1},{num:"04",name:"Customer Orders (Inbound)",nested:!1},{num:"05",name:"Drawings",nested:!0,children:["05a Incoming","05b SFG Issue","05c Change Requests","05d Confirmations","05e Approval","05f Live","05g Rejected"]},{num:"06",name:"Site Photos",nested:!1},{num:"07",name:"Customers",nested:!0,children:["07a RFQs","07b POs"]},{num:"08",name:"Waiting For Approval",nested:!1},{num:"09",name:"Invoicing",nested:!1},{num:"10",name:"Approved Documents",nested:!0,children:["10a Quote Approved","10b PO Received","10c Drawing Approved","10d Agreements Mirror"],locked:!0}].map((e,t)=>(0,n.jsxs)("div",{style:{padding:"12px",background:e.locked?"#36414D99":"#36414D",border:`1px solid ${e.locked?"#1E5AA0":"#4A5562"}`,borderRadius:"6px",opacity:e.locked?.8:1},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"8px"},children:[(0,n.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#2E6FB9"},children:e.num}),(0,n.jsx)("span",{style:{fontWeight:"bold",fontSize:"13px"},children:e.name}),e.locked&&(0,n.jsx)(s.Z,{size:14,style:{color:"#1E5AA0",marginLeft:"auto"}})]}),e.children&&(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:e.children.map(e=>(0,n.jsx)("span",{style:{padding:"4px 8px",background:"#4A5562",borderRadius:"4px",fontSize:"11px",opacity:.8},children:e},e))})]},t))})]}),"product-count"===e&&(0,n.jsxs)("div",{style:{padding:"24px",background:"#27303A",borderRadius:"10px"},children:[(0,n.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"20px"},children:"Product Count Chain (Immutable Tracking)"}),(0,n.jsxs)("div",{style:{padding:"16px",background:"#36414D",borderRadius:"8px",marginBottom:"20px",fontSize:"13px",lineHeight:"1.6"},children:[(0,n.jsx)("strong",{children:"Rule:"})," Maintain count from ENQ → QUO (all revisions) → ORD → INV → DEL/Collect → PAID",(0,n.jsxs)("div",{style:{marginTop:"12px",opacity:.8},children:["• Count complete deliverables with own price",(0,n.jsx)("br",{}),"• Separately priced accessories count; consumables do not",(0,n.jsx)("br",{}),"• QUO→ORD blocked if ENQ_initial_count or Current_product_count is MISSING",(0,n.jsx)("br",{}),"• On count change: log ProductCountLog, post Teams alert, create Planner task for Estimator self-sign"]})]}),(0,n.jsx)("div",{style:{display:"grid",gap:"12px"},children:m.map(e=>(0,n.jsxs)("div",{style:{padding:"12px",background:"#36414D",border:"1px solid #4A5562",borderRadius:"6px"},children:[(0,n.jsxs)("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:[e.baseNumber,": ",e.customer]}),(0,n.jsx)(f,{project:e})]},e.id))})]})]})})]})}},2154:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var n=i(9300);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=(...e)=>e.filter((e,t,i)=>!!e&&i.indexOf(e)===t).join(" ");var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,n.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:d="",children:a,iconNode:l,...c},p)=>(0,n.createElement)("svg",{ref:p,...s,width:t,height:t,stroke:e,strokeWidth:r?24*Number(i)/Number(t):i,className:o("lucide",d),...c},[...l.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(a)?a:[a]])),a=(e,t)=>{let i=(0,n.forwardRef)(({className:i,...s},a)=>(0,n.createElement)(d,{ref:a,iconNode:t,className:o(`lucide-${r(e)}`,i),...s}));return i.displayName=`${e}`,i}},3572:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});let n=(0,i(2154).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},2492:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});let n=(0,i(2154).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8082:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});let n=(0,i(2154).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1059:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});let n=(0,i(2154).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},362:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});let n=(0,i(2154).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},function(e){e.O(0,[2386,7156,1744],function(){return e(e.s=5209)}),_N_E=e.O()}]);